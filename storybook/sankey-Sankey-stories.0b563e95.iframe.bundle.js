"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[8097],{"./stories/sankey/Sankey.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,ClickHandler:()=>ClickHandler,ContractingLinks:()=>ContractingLinks,CustomAlign:()=>CustomAlign,CustomLabel:()=>CustomLabel,CustomNodeAndLinkColors:()=>CustomNodeAndLinkColors,CustomTooltips:()=>CustomTooltips,FormattedValues:()=>FormattedValues,OutsideLabels:()=>OutsideLabels,SortLinksByInput:()=>SortLinksByInput,VerticalLabels:()=>VerticalLabels,WithReverseSortOrdering:()=>WithReverseSortOrdering,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Sankey_stories});var nivo_generators_es=__webpack_require__("../packages/generators/dist/nivo-generators.es.js"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),lodash=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),nivo_core_es=__webpack_require__("../packages/core/dist/nivo-core.es.js"),nivo_legends_es=__webpack_require__("../packages/legends/dist/nivo-legends.es.js"),align=__webpack_require__("../node_modules/.pnpm/d3-sankey@0.12.3/node_modules/d3-sankey/src/align.js"),sankey=__webpack_require__("../node_modules/.pnpm/d3-sankey@0.12.3/node_modules/d3-sankey/src/sankey.js"),nivo_tooltip_es=__webpack_require__("../packages/tooltip/dist/nivo-tooltip.es.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),nivo_colors_es=__webpack_require__("../packages/colors/dist/nivo-colors.es.js"),esm=__webpack_require__("../node_modules/.pnpm/@react-spring+web@9.7.2_react-dom@18.2.0_react@18.2.0/node_modules/@react-spring/web/dist/esm/index.js"),line=__webpack_require__("../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/line.js"),monotone=__webpack_require__("../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/monotone.js");function S(){return S=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},S.apply(this,arguments)}var z={container:{display:"flex",alignItems:"center"},sourceChip:{marginRight:7},targetChip:{marginLeft:7,marginRight:7}},E={center:align.be,justify:align.PT,start:align.t$,end:align.F2},j=(Object.keys(E),function(e){return E[e]}),V={layout:"horizontal",align:"center",sort:"auto",colors:{scheme:"nivo"},nodeOpacity:.75,nodeHoverOpacity:1,nodeHoverOthersOpacity:.15,nodeThickness:12,nodeSpacing:12,nodeInnerPadding:0,nodeBorderWidth:1,nodeBorderColor:{from:"color",modifiers:[["darker",.5]]},nodeBorderRadius:0,linkOpacity:.25,linkHoverOpacity:.6,linkHoverOthersOpacity:.15,linkContract:0,linkBlendMode:"multiply",enableLinkGradient:!1,enableLabels:!0,label:"id",labelPosition:"inside",labelPadding:9,labelOrientation:"horizontal",labelTextColor:{from:"color",modifiers:[["darker",.8]]},isInteractive:!0,nodeTooltip:function(e){var o=e.node;return(0,jsx_runtime.jsx)(nivo_tooltip_es._5,{id:o.label,enableChip:!0,color:o.color})},linkTooltip:function(e){var o=e.link;return(0,jsx_runtime.jsx)(nivo_tooltip_es._5,{id:(0,jsx_runtime.jsxs)("span",{style:z.container,children:[(0,jsx_runtime.jsx)(nivo_tooltip_es.Af,{color:o.source.color,style:z.sourceChip}),(0,jsx_runtime.jsx)("strong",{children:o.source.label})," > ",(0,jsx_runtime.jsx)("strong",{children:o.target.label}),(0,jsx_runtime.jsx)(nivo_tooltip_es.Af,{color:o.target.color,style:z.targetChip}),(0,jsx_runtime.jsx)("strong",{children:o.formattedValue})]})})},legends:[],layers:["links","nodes","labels","legends"],role:"img",animate:!0,motionConfig:"gentle"},A=function(e){return e.id},D=function(n){var t=n.data,i=n.valueFormat,l=n.layout,s=n.width,u=n.height,h=n.sort,v=n.align,p=n.colors,g=n.nodeThickness,y=n.nodeSpacing,f=n.nodeInnerPadding,m=n.nodeBorderColor,k=n.label,b=n.labelTextColor,x=(0,react.useState)(null),O=x[0],L=x[1],M=(0,react.useState)(null),T=M[0],w=M[1],H=(0,react.useMemo)((function(){if("auto"!==h)return"input"===h?null:"ascending"===h?function(e,o){return e.value-o.value}:"descending"===h?function(e,o){return o.value-e.value}:h}),[h]),P="input"===h?null:void 0,W=(0,react.useMemo)((function(){return"function"==typeof v?v:j(v)}),[v]),N=(0,nivo_core_es.Fg)(),F=(0,nivo_colors_es.U)(p,"id"),R=(0,nivo_colors_es.Bf)(m,N),S=(0,nivo_core_es.LR)(k),z=(0,nivo_colors_es.Bf)(b,N),E=(0,nivo_core_es.O_)(i),G=(0,react.useMemo)((function(){return function(e){var o=e.data,n=e.formatValue,t=e.layout,i=e.alignFunction,l=e.sortFunction,a=e.linkSortMode,d=e.nodeThickness,c=e.nodeSpacing,s=e.nodeInnerPadding,u=e.width,h=e.height,v=e.getColor,p=e.getLabel,g=(0,sankey.Z)().nodeAlign(i).nodeSort(l).linkSort(a).nodeWidth(d).nodePadding(c).size("horizontal"===t?[u,h]:[h,u]).nodeId(A),y=(0,lodash.cloneDeep)(o);return g(y),y.nodes.forEach((function(e){if(e.color=v(e),e.label=p(e),e.formattedValue=n(e.value),"horizontal"===t)e.x=e.x0+s,e.y=e.y0,e.width=Math.max(e.x1-e.x0-2*s,0),e.height=Math.max(e.y1-e.y0,0);else{e.x=e.y0,e.y=e.x0+s,e.width=Math.max(e.y1-e.y0,0),e.height=Math.max(e.x1-e.x0-2*s,0);var o=e.x0,i=e.x1;e.x0=e.y0,e.x1=e.y1,e.y0=o,e.y1=i}})),y.links.forEach((function(e){e.formattedValue=n(e.value),e.color=e.source.color,e.pos0=e.y0,e.pos1=e.y1,e.thickness=e.width,delete e.y0,delete e.y1,delete e.width})),y}({data:t,formatValue:E,layout:l,alignFunction:W,sortFunction:H,linkSortMode:P,nodeThickness:g,nodeSpacing:y,nodeInnerPadding:f,width:s,height:u,getColor:F,getLabel:S})}),[t,E,l,W,H,P,g,y,f,s,u,F,S]),V=G.nodes,D=G.links,Z=(0,react.useMemo)((function(){return V.map((function(e){return{id:e.id,label:e.label,color:e.color}}))}),[V]);return{nodes:V,links:D,legendData:Z,getNodeBorderColor:R,currentNode:O,setCurrentNode:L,currentLink:T,setCurrentLink:w,getLabelTextColor:z}},Z=function(e){var o=e.node,i=e.x,r=e.y,l=e.width,a=e.height,d=e.color,c=e.opacity,u=e.borderWidth,h=e.borderColor,v=e.borderRadius,p=e.setCurrent,g=e.isInteractive,y=e.onClick,f=e.tooltip,m=(0,nivo_core_es.tf)(),k=m.animate,b=m.config,C=(0,esm.q_)({x:i,y:r,width:l,height:a,opacity:c,color:d,config:b,immediate:!k}),x=(0,nivo_tooltip_es.lL)(),O=x.showTooltipFromEvent,T=x.hideTooltip,w=(0,react.useCallback)((function(e){p(o),O((0,react.createElement)(f,{node:o}),e,"left")}),[p,o,O,f]),B=(0,react.useCallback)((function(e){O((0,react.createElement)(f,{node:o}),e,"left")}),[O,o,f]),I=(0,react.useCallback)((function(){p(null),T()}),[p,T]),W=(0,react.useCallback)((function(e){null==y||y(o,e)}),[y,o]);return(0,jsx_runtime.jsx)(esm.q.rect,{x:C.x,y:C.y,rx:v,ry:v,width:C.width.to((function(e){return Math.max(e,0)})),height:C.height.to((function(e){return Math.max(e,0)})),fill:C.color,fillOpacity:C.opacity,strokeWidth:u,stroke:h,strokeOpacity:c,onMouseEnter:g?w:void 0,onMouseMove:g?B:void 0,onMouseLeave:g?I:void 0,onClick:g?W:void 0})},U=function(e){var o=e.nodes,n=e.nodeOpacity,t=e.nodeHoverOpacity,i=e.nodeHoverOthersOpacity,r=e.borderWidth,l=e.getBorderColor,a=e.borderRadius,d=e.setCurrentNode,c=e.currentNode,s=e.currentLink,u=e.isCurrentNode,h=e.isInteractive,v=e.onClick,p=e.tooltip,g=function(e){return c||s?u(e)?t:i:n};return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:o.map((function(e){return(0,jsx_runtime.jsx)(Z,{node:e,x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:g(e),borderWidth:r,borderColor:l(e),borderRadius:a,setCurrent:d,isInteractive:h,onClick:v,tooltip:p},e.id)}))})},q=function(e){var o=e.id,n=e.layout,t=e.startColor,i=e.endColor;return(0,jsx_runtime.jsxs)("linearGradient",S({id:o,spreadMethod:"pad"},"horizontal"===n?{x1:"0%",x2:"100%",y1:"0%",y2:"0%"}:{x1:"0%",x2:"0%",y1:"0%",y2:"100%"},{children:[(0,jsx_runtime.jsx)("stop",{offset:"0%",stopColor:t}),(0,jsx_runtime.jsx)("stop",{offset:"100%",stopColor:i})]}))},J=function(e){var o=e.link,i=e.layout,r=e.path,l=e.color,a=e.opacity,d=e.blendMode,c=e.enableGradient,h=e.setCurrent,v=e.tooltip,p=e.isInteractive,g=e.onClick,y=o.source.id+"."+o.target.id+"."+o.index,f=(0,nivo_core_es.tf)(),m=f.animate,k=f.config,b=(0,nivo_core_es.NS)(r),C=(0,esm.q_)({color:l,opacity:a,config:k,immediate:!m}),x=(0,nivo_tooltip_es.lL)(),O=x.showTooltipFromEvent,B=x.hideTooltip,I=(0,react.useCallback)((function(e){h(o),O((0,react.createElement)(v,{link:o}),e,"left")}),[h,o,O,v]),W=(0,react.useCallback)((function(e){O((0,react.createElement)(v,{link:o}),e,"left")}),[O,o,v]),N=(0,react.useCallback)((function(){h(null),B()}),[h,B]),F=(0,react.useCallback)((function(e){null==g||g(o,e)}),[g,o]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[c&&(0,jsx_runtime.jsx)(q,{id:y,layout:i,startColor:o.startColor||o.source.color,endColor:o.endColor||o.target.color}),(0,jsx_runtime.jsx)(esm.q.path,{fill:c?'url("#'+encodeURI(y)+'")':C.color,d:b,fillOpacity:C.opacity,onMouseEnter:p?I:void 0,onMouseMove:p?W:void 0,onMouseLeave:p?N:void 0,onClick:p?F:void 0,style:{mixBlendMode:d}})]})},K=function(e){var n=e.links,t=e.layout,i=e.linkOpacity,r=e.linkHoverOpacity,l=e.linkHoverOthersOpacity,a=e.linkContract,d=e.linkBlendMode,c=e.enableLinkGradient,s=e.setCurrentLink,u=e.currentLink,h=e.currentNode,v=e.isCurrentLink,p=e.isInteractive,g=e.onClick,y=e.tooltip,f=function(e){return h||u?v(e)?r:l:i},m=(0,react.useMemo)((function(){return"horizontal"===t?(e=(0,line.Z)().curve(monotone.Z),function(o,n){var t=Math.max(1,o.thickness-2*n)/2,i=.12*(o.target.x0-o.source.x1),r=[[o.source.x1,o.pos0-t],[o.source.x1+i,o.pos0-t],[o.target.x0-i,o.pos1-t],[o.target.x0,o.pos1-t],[o.target.x0,o.pos1+t],[o.target.x0-i,o.pos1+t],[o.source.x1+i,o.pos0+t],[o.source.x1,o.pos0+t],[o.source.x1,o.pos0-t]];return e(r)+"Z"}):function(){var e=(0,line.Z)().curve(monotone.s);return function(o,n){var t=Math.max(1,o.thickness-2*n)/2,i=.12*(o.target.y0-o.source.y1),r=[[o.pos0+t,o.source.y1],[o.pos0+t,o.source.y1+i],[o.pos1+t,o.target.y0-i],[o.pos1+t,o.target.y0],[o.pos1-t,o.target.y0],[o.pos1-t,o.target.y0-i],[o.pos0-t,o.source.y1+i],[o.pos0-t,o.source.y1],[o.pos0+t,o.source.y1]];return e(r)+"Z"}}();var e}),[t]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:n.map((function(e){return(0,jsx_runtime.jsx)(J,{link:e,layout:t,path:m(e,a),color:e.color,opacity:f(e),blendMode:d,enableGradient:c,setCurrent:s,isInteractive:p,onClick:g,tooltip:y},e.source.id+"."+e.target.id+"."+e.index)}))})},Q=function(e){var o=e.nodes,n=e.layout,t=e.width,i=e.height,r=e.labelPosition,l=e.labelPadding,d=e.labelOrientation,c=e.getLabelTextColor,u=(0,nivo_core_es.Fg)(),h="vertical"===d?-90:0,v=o.map((function(e){var o,a,s;return"horizontal"===n?(a=e.y+e.height/2,e.x<t/2?"inside"===r?(o=e.x1+l,s="vertical"===d?"middle":"start"):(o=e.x-l,s="vertical"===d?"middle":"end"):"inside"===r?(o=e.x-l,s="vertical"===d?"middle":"end"):(o=e.x1+l,s="vertical"===d?"middle":"start")):"vertical"===n&&(o=e.x+e.width/2,e.y<i/2?"inside"===r?(a=e.y1+l,s="vertical"===d?"end":"middle"):(a=e.y-l,s="vertical"===d?"start":"middle"):"inside"===r?(a=e.y-l,s="vertical"===d?"start":"middle"):(a=e.y1+l,s="vertical"===d?"end":"middle")),{id:e.id,label:e.label,x:o,y:a,textAnchor:s,color:c(e)}})),p=(0,nivo_core_es.tf)(),g=p.animate,y=p.config,f=(0,esm.bY)(v.length,v.map((function(e){return{transform:"translate("+e.x+", "+e.y+") rotate("+h+")",color:e.color,config:y,immediate:!g}})));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:f.map((function(e,o){var n=v[o];return(0,jsx_runtime.jsx)(esm.q.text,{dominantBaseline:"central",textAnchor:n.textAnchor,transform:e.transform,style:S({},u.labels.text,{fill:e.color,pointerEvents:"none"}),children:n.label},n.id)}))})},X=["isInteractive","animate","motionConfig","theme","renderWrapper"],Y=function(e){var o=e.data,n=e.valueFormat,r=e.layout,a=void 0===r?V.layout:r,d=e.sort,c=void 0===d?V.sort:d,s=e.align,u=void 0===s?V.align:s,h=e.width,g=e.height,f=e.margin,m=e.colors,k=void 0===m?V.colors:m,b=e.nodeThickness,C=void 0===b?V.nodeThickness:b,x=e.nodeSpacing,O=void 0===x?V.nodeThickness:x,L=e.nodeInnerPadding,T=void 0===L?V.nodeInnerPadding:L,w=e.nodeBorderColor,B=void 0===w?V.nodeBorderColor:w,I=e.nodeOpacity,H=void 0===I?V.nodeOpacity:I,P=e.nodeHoverOpacity,W=void 0===P?V.nodeHoverOpacity:P,N=e.nodeHoverOthersOpacity,F=void 0===N?V.nodeHoverOthersOpacity:N,R=e.nodeBorderWidth,z=void 0===R?V.nodeBorderWidth:R,E=e.nodeBorderRadius,G=void 0===E?V.nodeBorderRadius:E,j=e.linkOpacity,A=void 0===j?V.linkOpacity:j,Z=e.linkHoverOpacity,q=void 0===Z?V.linkHoverOpacity:Z,J=e.linkHoverOthersOpacity,X=void 0===J?V.linkHoverOthersOpacity:J,Y=e.linkContract,$=void 0===Y?V.linkContract:Y,_=e.linkBlendMode,ee=void 0===_?V.linkBlendMode:_,oe=e.enableLinkGradient,ne=void 0===oe?V.enableLinkGradient:oe,te=e.enableLabels,ie=void 0===te?V.enableLabels:te,re=e.labelPosition,le=void 0===re?V.labelPosition:re,ae=e.labelPadding,de=void 0===ae?V.labelPadding:ae,ce=e.labelOrientation,se=void 0===ce?V.labelOrientation:ce,ue=e.label,he=void 0===ue?V.label:ue,ve=e.labelTextColor,pe=void 0===ve?V.labelTextColor:ve,ge=e.nodeTooltip,ye=void 0===ge?V.nodeTooltip:ge,fe=e.linkTooltip,me=void 0===fe?V.linkTooltip:fe,ke=e.isInteractive,be=void 0===ke?V.isInteractive:ke,Ce=e.onClick,xe=e.legends,Oe=void 0===xe?V.legends:xe,Le=e.layers,Me=void 0===Le?V.layers:Le,Te=e.role,we=void 0===Te?V.role:Te,Be=e.ariaLabel,Ie=e.ariaLabelledBy,He=e.ariaDescribedBy,Pe=(0,nivo_core_es.Bs)(h,g,f),We=Pe.margin,Ne=Pe.innerWidth,Fe=Pe.innerHeight,Re=Pe.outerWidth,Se=Pe.outerHeight,ze=D({data:o,valueFormat:n,layout:a,width:Ne,height:Fe,sort:c,align:u,colors:k,nodeThickness:C,nodeSpacing:O,nodeInnerPadding:T,nodeBorderColor:B,label:he,labelTextColor:pe}),Ee=ze.nodes,Ge=ze.links,je=ze.legendData,Ve=ze.getNodeBorderColor,Ae=ze.currentNode,De=ze.setCurrentNode,Ze=ze.currentLink,Ue=ze.setCurrentLink,qe=ze.getLabelTextColor,Je=function(){return!1},Ke=function(){return!1};if(Ze&&(Je=function(e){var o=e.id;return o===Ze.source.id||o===Ze.target.id},Ke=function(e){var o=e.source,n=e.target;return o.id===Ze.source.id&&n.id===Ze.target.id}),Ae){var Qe=[Ae.id];Ge.filter((function(e){var o=e.source,n=e.target;return o.id===Ae.id||n.id===Ae.id})).forEach((function(e){var o=e.source,n=e.target;Qe.push(o.id),Qe.push(n.id)})),Qe=(0,lodash.uniq)(Qe),Je=function(e){var o=e.id;return Qe.includes(o)},Ke=function(e){var o=e.source,n=e.target;return o.id===Ae.id||n.id===Ae.id}}var Xe={links:Ge,nodes:Ee,margin:We,width:h,height:g,outerWidth:Re,outerHeight:Se},Ye={links:null,nodes:null,labels:null,legends:null};return Me.includes("links")&&(Ye.links=(0,jsx_runtime.jsx)(K,{links:Ge,layout:a,linkContract:$,linkOpacity:A,linkHoverOpacity:q,linkHoverOthersOpacity:X,linkBlendMode:ee,enableLinkGradient:ne,setCurrentLink:Ue,currentNode:Ae,currentLink:Ze,isCurrentLink:Ke,isInteractive:be,onClick:Ce,tooltip:me},"links")),Me.includes("nodes")&&(Ye.nodes=(0,jsx_runtime.jsx)(U,{nodes:Ee,nodeOpacity:H,nodeHoverOpacity:W,nodeHoverOthersOpacity:F,borderWidth:z,borderRadius:G,getBorderColor:Ve,setCurrentNode:De,currentNode:Ae,currentLink:Ze,isCurrentNode:Je,isInteractive:be,onClick:Ce,tooltip:ye},"nodes")),Me.includes("labels")&&ie&&(Ye.labels=(0,jsx_runtime.jsx)(Q,{nodes:Ee,layout:a,width:Ne,height:Fe,labelPosition:le,labelPadding:de,labelOrientation:se,getLabelTextColor:qe},"labels")),Me.includes("legends")&&(Ye.legends=(0,jsx_runtime.jsx)(react.Fragment,{children:Oe.map((function(e,o){return(0,jsx_runtime.jsx)(nivo_legends_es.$6,S({},e,{containerWidth:Ne,containerHeight:Fe,data:je}),"legend"+o)}))},"legends")),(0,jsx_runtime.jsx)(nivo_core_es.tM,{width:Re,height:Se,margin:We,role:we,ariaLabel:Be,ariaLabelledBy:Ie,ariaDescribedBy:He,children:Me.map((function(e,o){var n;return"function"==typeof e?(0,jsx_runtime.jsx)(react.Fragment,{children:(0,react.createElement)(e,Xe)},o):null!=(n=null==Ye?void 0:Ye[e])?n:null}))})},$=function(e){var o=e.isInteractive,n=void 0===o?V.isInteractive:o,t=e.animate,i=void 0===t?V.animate:t,r=e.motionConfig,l=void 0===r?V.motionConfig:r,a=e.theme,d=e.renderWrapper,c=function(e,o){if(null==e)return{};var n,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],o.indexOf(n)>=0||(i[n]=e[n]);return i}(e,X);return(0,jsx_runtime.jsx)(nivo_core_es.W2,{animate:i,isInteractive:n,motionConfig:l,renderWrapper:d,theme:a,children:(0,jsx_runtime.jsx)(Y,S({isInteractive:n},c))})};const Sankey_stories={title:"Sankey",component:$,tags:["autodocs"],argTypes:{onClick:{action:"clicked"}}},sankeyData=(0,nivo_generators_es.O$)({nodeCount:11,maxIterations:2}),commonProperties={width:900,height:400,margin:{top:0,right:80,bottom:0,left:80},data:sankeyData,colors:{scheme:"category10"}},Basic={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties})},CustomAlign={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,align:"end"})},OutsideLabels={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,labelPosition:"outside"})},VerticalLabels={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,labelOrientation:"vertical",labelPadding:20})},ContractingLinks={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,linkContract:10})},ClickHandler={render:args=>(0,jsx_runtime.jsx)($,{...commonProperties,onClick:args.onClick})},CustomLabel={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,label:node=>`${node.id} 😁`})},FormattedValues={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,valueFormat:value=>`${Number(value).toLocaleString("ru-RU",{minimumFractionDigits:2})} ₽`})},CustomTooltipContainer=({children})=>(0,jsx_runtime.jsx)("div",{style:{padding:9,background:"#eeeeee",borderRadius:"2px",border:"1px solid #aaaaaa"},children});CustomTooltipContainer.displayName="CustomTooltipContainer";const CustomTooltips={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,nodeTooltip:({node})=>(0,jsx_runtime.jsxs)(CustomTooltipContainer,{children:["Custom tooltip for node:",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("strong",{children:node.label})]}),linkTooltip:({link})=>(0,jsx_runtime.jsxs)(CustomTooltipContainer,{children:["Custom tooltip for link:",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("strong",{children:link.source.label})," to ",(0,jsx_runtime.jsx)("strong",{children:link.target.label})]})})},CustomNodeAndLinkColors={render:()=>{return(0,jsx_runtime.jsx)($,{...commonProperties,data:(data=sankeyData,{nodes:data.nodes.map((node=>({...node,nodeColor:"blue"}))),links:data.links.map((link=>({...link,startColor:(0,nivo_generators_es.z5)(),endColor:(0,nivo_generators_es.z5)()})))}),enableLinkGradient:!0,colors:node=>node.nodeColor});var data}},minNodeValueOnTop=(nodeA,nodeB)=>nodeA.value<nodeB.value?-1:nodeA.value>nodeB.value?1:0,WithReverseSortOrdering={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,sort:minNodeValueOnTop})},SortLinksByInput={render:()=>(0,jsx_runtime.jsx)($,{...commonProperties,data:{nodes:[{id:"foo_left",nodeColor:"#ff0000"},{id:"bar_left",nodeColor:"#0000ff"},{id:"baz_left",nodeColor:"#00ff00"},{id:"foo_right",nodeColor:"#ff0000"},{id:"bar_right",nodeColor:"#0000ff"},{id:"baz_right",nodeColor:"#00ff00"}],links:[{source:"foo_left",target:"bar_right",value:5},{source:"foo_left",target:"baz_right",value:5},{source:"bar_left",target:"foo_right",value:5},{source:"bar_left",target:"bar_right",value:5},{source:"bar_left",target:"baz_right",value:5},{source:"baz_left",target:"bar_right",value:5}]},colors:node=>node.nodeColor,sort:"input",enableLinkGradient:!0})};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} />\n}",...Basic.parameters?.docs?.source}}},CustomAlign.parameters={...CustomAlign.parameters,docs:{...CustomAlign.parameters?.docs,source:{originalSource:'{\n  render: () => <Sankey {...commonProperties} align="end" />\n}',...CustomAlign.parameters?.docs?.source}}},OutsideLabels.parameters={...OutsideLabels.parameters,docs:{...OutsideLabels.parameters?.docs,source:{originalSource:'{\n  render: () => <Sankey {...commonProperties} labelPosition="outside" />\n}',...OutsideLabels.parameters?.docs?.source}}},VerticalLabels.parameters={...VerticalLabels.parameters,docs:{...VerticalLabels.parameters?.docs,source:{originalSource:'{\n  render: () => <Sankey {...commonProperties} labelOrientation="vertical" labelPadding={20} />\n}',...VerticalLabels.parameters?.docs?.source}}},ContractingLinks.parameters={...ContractingLinks.parameters,docs:{...ContractingLinks.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} linkContract={10} />\n}",...ContractingLinks.parameters?.docs?.source}}},ClickHandler.parameters={...ClickHandler.parameters,docs:{...ClickHandler.parameters?.docs,source:{originalSource:"{\n  render: args => <Sankey {...commonProperties} onClick={args.onClick} />\n}",...ClickHandler.parameters?.docs?.source}}},CustomLabel.parameters={...CustomLabel.parameters,docs:{...CustomLabel.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} label={node => `${node.id} 😁`} />\n}",...CustomLabel.parameters?.docs?.source}}},FormattedValues.parameters={...FormattedValues.parameters,docs:{...FormattedValues.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} valueFormat={value => `${Number(value).toLocaleString('ru-RU', {\n    minimumFractionDigits: 2\n  })} ₽`} />\n}",...FormattedValues.parameters?.docs?.source}}},CustomTooltips.parameters={...CustomTooltips.parameters,docs:{...CustomTooltips.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} nodeTooltip={({\n    node\n  }) => <CustomTooltipContainer>\n                    Custom tooltip for node:\n                    <br />\n                    <strong>{node.label}</strong>\n                </CustomTooltipContainer>} linkTooltip={({\n    link\n  }) => <CustomTooltipContainer>\n                    Custom tooltip for link:\n                    <br />\n                    <strong>{link.source.label}</strong> to <strong>{link.target.label}</strong>\n                </CustomTooltipContainer>} />\n}",...CustomTooltips.parameters?.docs?.source}}},CustomNodeAndLinkColors.parameters={...CustomNodeAndLinkColors.parameters,docs:{...CustomNodeAndLinkColors.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} data={dataWithRandLinkColors(sankeyData)} enableLinkGradient={true} colors={node => node.nodeColor} />\n}",...CustomNodeAndLinkColors.parameters?.docs?.source}}},WithReverseSortOrdering.parameters={...WithReverseSortOrdering.parameters,docs:{...WithReverseSortOrdering.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} sort={minNodeValueOnTop} />\n}",...WithReverseSortOrdering.parameters?.docs?.source}}},SortLinksByInput.parameters={...SortLinksByInput.parameters,docs:{...SortLinksByInput.parameters?.docs,source:{originalSource:"{\n  render: () => <Sankey {...commonProperties} data={{\n    nodes: [{\n      id: 'foo_left',\n      nodeColor: '#ff0000'\n    }, {\n      id: 'bar_left',\n      nodeColor: '#0000ff'\n    }, {\n      id: 'baz_left',\n      nodeColor: '#00ff00'\n    }, {\n      id: 'foo_right',\n      nodeColor: '#ff0000'\n    }, {\n      id: 'bar_right',\n      nodeColor: '#0000ff'\n    }, {\n      id: 'baz_right',\n      nodeColor: '#00ff00'\n    }],\n    links: [{\n      source: 'foo_left',\n      target: 'bar_right',\n      value: 5\n    }, {\n      source: 'foo_left',\n      target: 'baz_right',\n      value: 5\n    }, {\n      source: 'bar_left',\n      target: 'foo_right',\n      value: 5\n    }, {\n      source: 'bar_left',\n      target: 'bar_right',\n      value: 5\n    }, {\n      source: 'bar_left',\n      target: 'baz_right',\n      value: 5\n    }, {\n      source: 'baz_left',\n      target: 'bar_right',\n      value: 5\n    }]\n  }} colors={node => node.nodeColor} sort=\"input\" enableLinkGradient />\n}",...SortLinksByInput.parameters?.docs?.source}}};const __namedExportsOrder=["Basic","CustomAlign","OutsideLabels","VerticalLabels","ContractingLinks","ClickHandler","CustomLabel","FormattedValues","CustomTooltips","CustomNodeAndLinkColors","WithReverseSortOrdering","SortLinksByInput"]},"../packages/generators/dist/nivo-generators.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$j:()=>m,Ls:()=>G,O$:()=>C,OX:()=>l,Tz:()=>L,UE:()=>J,ak:()=>I,aw:()=>D,gU:()=>P,gq:()=>k,j2:()=>f,vQ:()=>d,wQ:()=>h,x$:()=>H,z5:()=>T,zn:()=>Y});var lodash_range__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/range.js"),lodash_range__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_0__),lodash_random__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/random.js"),lodash_random__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_random__WEBPACK_IMPORTED_MODULE_1__),lodash_shuffle__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/shuffle.js"),lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_shuffle__WEBPACK_IMPORTED_MODULE_2__),d3_time__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/d3-time@1.1.0/node_modules/d3-time/src/day.js"),d3_time_format__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/d3-time-format@3.0.0/node_modules/d3-time-format/src/defaultLocale.js"),a=function(){return"hsl("+Math.round(360*Math.random())+", 70%, 50%)"},i=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"],u=["John","Raoul","Jane","Marcel","Ibrahim","Junko","Lyu","André","Maki","Véronique","Thibeau","Josiane","Raphaël","Mathéo","Margot","Hugo","Christian","Louis","Ella","Alton","Jimmy","Guillaume","Sébastien","Alfred","Bon","Solange","Kendrick","Jared","Satoko","Tomoko","Line","Delphine","Leonard","Alphonse","Lisa","Bart","Benjamin","Homer","Jack"],c=["php","make","javascript","go","erlang","elixir","lisp","haskell","python","ruby","hack","scala","java","rust","c","css","sass","stylus"],d=Object.freeze({__proto__:null,countryCodes:i,names:u,programmingLanguages:c});function s(){return s=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},s.apply(this,arguments)}var l=function(n){return n.map((function(n){return Array(n.n).fill(0).map((function(){return function(n,r){void 0===n&&(n=0),void 0===r&&(r=1);var t=2*(Math.random()-.5);return Math.atanh(t)*r+n}(n.mu,n.sd)})).map((function(r){return s({},n,{value:r})}))})).flat()},f=function(t,o,e){var a=void 0===e?{}:e,i=a.title,u=a.subtitle,c=a.rangeCount,d=void 0===c?5:c,s=a.measureCount,l=void 0===s?1:s,f=a.markerCount,h=void 0===f?1:f,m=a.float,v=void 0!==m&&m;return{id:t,title:i,subtitle:u,ranges:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(d-1).reduce((function(n){var t=o-n[0];return[lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(t,v)].concat(n)}),[o]),measures:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(l).reduce((function(n){return 0===n.length?[lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(o,v)]:[lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(n[0],v)].concat(n)}),[]),markers:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(h).map((function(){return.6*o+lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(.4*o)}))}},h=function(t){var o=void 0===t?{}:t,e=o.keys,a=void 0===e?u:e,i=o.size,c=void 0===i?7:i,d=o.minValue,s=void 0===d?0:d,l=o.maxValue,f=void 0===l?2e3:l,h=Math.min(a.length,c),m=a.slice(0,h);return{matrix:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(h).map((function(){return lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(h).map((function(){return Math.random()<.66?lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(s,f/4):lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(s,f)}))})),keys:m}},m=function(n){var t=void 0===n?{}:n,o=t.rootSize,e=void 0===o?32:o,a=t.midSize,i=void 0===a?24:a,u=t.leafSize,c=void 0===u?12:u,d=t.minMidNodes,s=void 0===d?5:d,l=t.maxMidNodes,f=void 0===l?11:l,h=t.minLeaves,m=void 0===h?3:h,v=t.maxLeaves,p=void 0===v?9:v,M={id:"Node 0",height:2,size:e,color:"rgb(244, 117, 96)"},g=Array.from({length:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(s,f)},(function(n,r){return{id:"Node "+(r+1),height:1,size:i,color:"rgb(97, 205, 187)"}})),C=[],y=[];return g.forEach((function(n){C.push({source:"Node 0",target:n.id,distance:80}),g.forEach((function(r){Math.random()<.04&&C.push({source:n.id,target:r.id,distance:80})})),Array.from({length:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(m,p)},(function(r,t){return y.push({id:n.id+"."+t,height:0,size:c,color:"rgb(232, 193, 160)"}),C.push({source:n.id,target:n.id+"."+t,distance:50}),null}))})),g.push(M),{nodes:g=g.concat(y),links:C}},p=u.map((function(n){return{id:n}})),M=function n(r,t,o){var e=t.filter((function(n){return n.source===r})).map((function(n){var t=n.target;if(t===r)throw new Error("[sankey] a node cannot be linked on itself:\n  link: "+r+" —> "+r);if(null!=o&&o.includes(t))throw new Error("[sankey] found cyclic dependency:\n  link: "+o.join(" —> ")+" —> "+t);return t}));return e.reduce((function(e,a){return e.concat(n(a,t,o?[].concat(o,[a]):[r,a]))}),e)},g=function(n){return n.reduce((function(r,t){return r[t.source]||(r[t.source]=M(t.source,n)),r}),{})},C=function(o){var e=void 0===o?{}:o,i=e.nodeCount,u=e.maxIterations,c=void 0===u?3:u,d=p.slice(0,i).map((function(n){return Object.assign({},n,{nodeColor:a()})})),s=[];return lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(d).forEach((function(o){var e=o.id;lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(1,c)).forEach((function(){var n=g(s),o=lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(d.filter((function(n){return n.id!==e})).map((function(n){return n.id})))[0];n[o]&&n[o].includes(e)||n[e]&&n[e].includes(o)||s.push({source:e,target:o,value:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(5,200)})}))})),{nodes:d,links:s}},y=function(){return lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(0,500)},A=function(){return lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(4,20)},S=function(){return lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(3,17)},k=function(t,o){var e=o.min,a=void 0===e?60:e,i=o.max,u=void 0===i?100:i,c=o.categoryCount,d=void 0===c?0:c;return{groups:t,data:t.reduce((function(t,o,e){return[].concat(t,lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(a,u)).map((function(){return y()})).map((function(r,t){var a={id:e+"."+t,group:o,price:r,volume:A()};return d>0&&(a.categories=lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(d).map(S)),a})))}),[])}},E=function(n){return"values"in n?function(r){return n.values[r]}:function(){var r=n.min+Math.random()*(n.max-n.min);return n.round&&(r=Math.round(r)),r}},G=function(n){var r=n.serieIds,t=n.x,o=n.y,e="length"in t?t.length:t.values.length,a=E(t),i=E(o);return r.map((function(n){return{id:n,data:Array.from({length:e}).map((function(n,r){return{x:a(r),y:i(r)}}))}}))},T=a,L=function(n,r){void 0===n&&(n=!0),void 0===r&&(r=-1);var o=c;return n&&(o=lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(o)),r<1&&(r=1+Math.round(Math.random()*(c.length-1))),o.slice(0,r).map((function(n){return{label:n,value:Math.round(600*Math.random()),color:T()}}))},N=function(n){var r=[];return function(){var t;do{t=n.apply(void 0,arguments)}while(r.includes(t));return r.push(t),t}},b=function(){return lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(i)[0]},I=function(t){void 0===t&&(t=16);var o=["whisky","rhum","gin","vodka","cognac"],e=N(b),a=o.map((function(n){return{id:n,color:T(),data:[]}}));return lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(t).forEach((function(){var n=e();o.forEach((function(t){var o;null==(o=a.find((function(n){return n.id===t})))||o.data.push({color:T(),x:n,y:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(0,60)})}))})),a},P=function(n,r){var t=(0,d3_time__WEBPACK_IMPORTED_MODULE_3__.a)(n,r),a=(0,d3_time_format__WEBPACK_IMPORTED_MODULE_4__.i$)("%Y-%m-%d");return t.map((function(n){return{value:Math.round(400*Math.random()),day:a(n)}}))},H=function(n,r,o){void 0===o&&(o=.9);var e=P(n,r),a=Math.round(e.length*(.4*o))+Math.round(Math.random()*(e.length*(.6*o)));return lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(e).slice(0,a)},D=function(n,t){var o=void 0===t?{}:t,e=o.size,a=void 0===e?12:e,u=o.min,c=void 0===u?0:u,d=o.max,s=void 0===d?200:d,l=o.withColors,f=void 0===l||l;return i.slice(0,a).map((function(t){var o={country:t};return n.forEach((function(n){o[n]=lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(c,s),!0===f&&(o[n+"Color"]=T())})),o}))},V=[["viz",[["stack",[["cchart"],["xAxis"],["yAxis"],["layers"]]],["ppie",[["chart",[["pie",[["outline"],["slices"],["bbox"]]],["donut"],["gauge"]]],["legends"]]]]],["colors",[["rgb"],["hsl"]]],["utils",[["randomize"],["resetClock"],["noop"],["tick"],["forceGC"],["stackTrace"],["dbg"]]],["generators",[["address"],["city"],["animal"],["movie"],["user"]]],["set",[["clone"],["intersect"],["merge"],["reverse"],["toArray"],["toObject"],["fromCSV"],["slice"],["append"],["prepend"],["shuffle"],["pick"],["plouc"]]],["text",[["trim"],["slugify"],["snakeCase"],["camelCase"],["repeat"],["padLeft"],["padRight"],["sanitize"],["ploucify"]]],["misc",[["greetings",[["hey"],["HOWDY"],["aloha"],["AHOY"]]],["other"],["path",[["pathA"],["pathB",[["pathB1"],["pathB2"],["pathB3"],["pathB4"]]],["pathC",[["pathC1"],["pathC2"],["pathC3"],["pathC4"],["pathC5"],["pathC6"],["pathC7"],["pathC8"],["pathC9"]]]]]]]],J=function r(t,o,e){var a;void 0===t&&(t="nivo"),void 0===e&&(e=V),(o=o||e.length)>e.length&&(o=e.length);var i={name:t,color:T()};return(null==(a=e)?void 0:a.length)>0?i.children=lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(o).map((function(n,t){var o,a=e[t];return r(a[0],null,null!=(o=a[1])?o:[])})):i.loc=Math.round(2e5*Math.random()),i},F=["chardonay","carmenere","syrah"],U=["fruity","bitter","heavy","strong","sunny"],Y=function(n){var t=void 0===n?{}:n,o=t.randMin,e=void 0===o?20:o,a=t.randMax,i=void 0===a?120:a;return{data:U.map((function(n){var t={taste:n};return F.forEach((function(n){t[n]=lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(e,i)})),t})),keys:F}}}}]);