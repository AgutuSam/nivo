"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[6276],{"./stories/heatmap/HeatMap.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,ColorScales:()=>ColorScales,CustomCellComponent:()=>CustomCellComponent,CustomColorScales:()=>CustomColorScales,CustomTooltip:()=>HeatMap_stories_CustomTooltip,VariableCellSize:()=>VariableCellSize,__namedExportsOrder:()=>__namedExportsOrder,default:()=>HeatMap_stories});var nivo_heatmap_es=__webpack_require__("../packages/heatmap/dist/nivo-heatmap.es.js");const sampleData=(0,__webpack_require__("../packages/generators/dist/nivo-generators.es.js").Ls)({serieIds:["Japan","France","US","Germany","Norway","Iceland","UK","Vietnam"],x:{values:["Train","Subway","Bus","Car","Boat","Moto","Moped","Bicycle","Others"]},y:{length:NaN,min:-1e5,max:1e5,round:!0}});var CustomTooltip=__webpack_require__("./stories/heatmap/CustomTooltip.tsx"),sequential=__webpack_require__("../node_modules/.pnpm/d3-scale@3.3.0/node_modules/d3-scale/src/sequential.js"),bisect=__webpack_require__("../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/bisect.js"),init=__webpack_require__("../node_modules/.pnpm/d3-scale@3.3.0/node_modules/d3-scale/src/init.js");const thresholds=[0,.4,.5,.6,1],colors=["#8888ee","#ffffee","#eebb00","#ffeeff","#dd8888"],scales=thresholds.slice(0,thresholds.length-1).map(((v,i)=>(0,sequential.ZP)().domain(thresholds.slice(i,i+2)).range(colors.slice(i,i+2)))),getScaleIndex=function threshold(){var unknown,domain=[.5],range=[0,1],n=1;function scale(x){return null!=x&&x<=x?range[(0,bisect.ZP)(domain,x,0,n)]:unknown}return scale.domain=function(_){return arguments.length?(domain=Array.from(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),n=Math.min(domain.length,range.length-1),scale):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return[domain[i-1],domain[i]]},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return threshold().domain(domain).range(range).unknown(unknown)},init.o.apply(scale,arguments)}().domain(thresholds).range(Array(thresholds.length).fill(0).map(((v,i)=>i-1))),customInterpolator=t=>scales[getScaleIndex(t)](t);try{customInterpolator.displayName="customInterpolator",customInterpolator.__docgenInfo={description:"",displayName:"customInterpolator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/heatmap/customInterpolator.tsx#customInterpolator"]={docgenInfo:customInterpolator.__docgenInfo,name:"customInterpolator",path:"stories/heatmap/customInterpolator.tsx#customInterpolator"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const HeatMap_stories={title:"HeatMap",component:nivo_heatmap_es.Br,tags:["autodocs"]},commonProperties={width:900,height:500,margin:{top:60,right:80,bottom:60,left:80},data:sampleData},Basic={render:()=>(0,jsx_runtime.jsx)(nivo_heatmap_es.Br,{...commonProperties})},VariableCellSize={render:()=>(0,jsx_runtime.jsx)(nivo_heatmap_es.Br,{...commonProperties,valueFormat:">-.2s",cellComponent:"circle",sizeVariation:{sizes:[.6,1]},forceSquare:!0,enableGridX:!0,enableGridY:!0})},CustomCell=({cell,borderWidth})=>null===cell.value?null:(0,jsx_runtime.jsxs)("g",{transform:`translate(${cell.x}, ${cell.y})`,children:[(0,jsx_runtime.jsx)("path",{transform:`rotate(${cell.value<50?180:0})`,fill:cell.color,fillOpacity:cell.opacity,strokeWidth:borderWidth,stroke:cell.borderColor,d:`\n                M0 -${Math.round(cell.height/2)}\n                L${Math.round(cell.width/2)} ${Math.round(cell.height/2)}\n                L-${Math.round(cell.width/2)} ${Math.round(cell.height/2)}\n                L0 -${Math.round(cell.height/2)}\n            `}),(0,jsx_runtime.jsx)("text",{dominantBaseline:"central",textAnchor:"middle",style:{fill:cell.labelTextColor},dy:cell.value<50?-6:6,children:cell.formattedValue})]});CustomCell.displayName="CustomCell";const CustomCellComponent={render:()=>(0,jsx_runtime.jsx)(nivo_heatmap_es.Br,{...commonProperties,enableGridY:!0,cellComponent:CustomCell,labelTextColor:"inherit:darker(1.6)"})},HeatMap_stories_CustomTooltip={render:()=>(0,jsx_runtime.jsx)(nivo_heatmap_es.Br,{...commonProperties,colors:{type:"quantize",scheme:"cividis",steps:7},tooltip:CustomTooltip.W,labelTextColor:{from:"color",modifiers:[["brighter",2.6]]}})},customColorConfigs={"sequential (full domain)":{type:"sequential",scheme:"oranges",minValue:-1e5,maxValue:1e5},"sequential (restricted domain)":{type:"sequential",scheme:"oranges",minValue:0,maxValue:1e5},"diverging at 0.5":{type:"diverging",scheme:"purple_orange",minValue:-1e5,maxValue:1e5,divergeAt:.5},"diverging at 0.33":{type:"diverging",scheme:"purple_orange",minValue:-1e5,maxValue:1e5,divergeAt:.33},"custom sequential":{type:"sequential",colors:["#f4f4f4","#74A57F"],minValue:-1e5,maxValue:1e5},"custom diverging at 0.5":{type:"diverging",colors:["#aa6052","#f4f4f4","#74A57F"],divergeAt:.5,minValue:-1e5,maxValue:1e5},"custom diverging at 0.33":{type:"diverging",colors:["#aa6052","#f4f4f4","#74A57F"],divergeAt:.33,minValue:-1e5,maxValue:1e5},"custom interpolator":{type:"sequential",interpolator:customInterpolator,minValue:-1e5,maxValue:1e5}},HeatMapWithColor=({colorConfig})=>(0,jsx_runtime.jsx)(nivo_heatmap_es.Br,{...commonProperties,colors:customColorConfigs[colorConfig],legends:[{anchor:"bottom",translateX:0,translateY:30,length:400,thickness:8,direction:"row",tickPosition:"after",tickSize:3,tickSpacing:4,tickOverlap:!1,tickFormat:">-.2s",title:"Value â†’",titleAlign:"start",titleOffset:4}]});HeatMapWithColor.displayName="HeatMapWithColor";const ColorScales={argTypes:{colors:{control:"select",options:["sequential (full domain)","sequential (restricted domain)","diverging at 0.5","diverging at 0.33"]}},args:{colors:"sequential (full domain)"},render:args=>(0,jsx_runtime.jsx)(HeatMapWithColor,{colorConfig:args.colors})},CustomColorScales={argTypes:{colors:{control:"select",options:["custom sequential","custom diverging at 0.5","custom diverging at 0.33","custom interpolator"]}},args:{colors:"custom sequential"},render:args=>(0,jsx_runtime.jsx)(HeatMapWithColor,{colorConfig:args.colors})};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: () => <HeatMap<any, Record<string, unknown>> {...commonProperties} />\n}",...Basic.parameters?.docs?.source}}},VariableCellSize.parameters={...VariableCellSize.parameters,docs:{...VariableCellSize.parameters?.docs,source:{originalSource:'{\n  render: () => <HeatMap<any, Record<string, unknown>> {...commonProperties} valueFormat=">-.2s" cellComponent="circle" sizeVariation={{\n    sizes: [0.6, 1]\n  }} forceSquare enableGridX={true} enableGridY={true} />\n}',...VariableCellSize.parameters?.docs?.source}}},CustomCellComponent.parameters={...CustomCellComponent.parameters,docs:{...CustomCellComponent.parameters?.docs,source:{originalSource:'{\n  render: () => <HeatMap<any, Record<string, unknown>> {...commonProperties} enableGridY cellComponent={CustomCell} labelTextColor="inherit:darker(1.6)" />\n}',...CustomCellComponent.parameters?.docs?.source}}},HeatMap_stories_CustomTooltip.parameters={...HeatMap_stories_CustomTooltip.parameters,docs:{...HeatMap_stories_CustomTooltip.parameters?.docs,source:{originalSource:"{\n  render: () => <HeatMap<any, Record<string, unknown>> {...commonProperties} colors={{\n    type: 'quantize',\n    scheme: 'cividis',\n    steps: 7\n  }} tooltip={CustomTooltipComponent} labelTextColor={{\n    from: 'color',\n    modifiers: [['brighter', 2.6]]\n  }} />\n}",...HeatMap_stories_CustomTooltip.parameters?.docs?.source}}},ColorScales.parameters={...ColorScales.parameters,docs:{...ColorScales.parameters?.docs,source:{originalSource:"{\n  argTypes: {\n    colors: {\n      control: 'select',\n      options: ['sequential (full domain)', 'sequential (restricted domain)', 'diverging at 0.5', 'diverging at 0.33']\n    }\n  },\n  args: {\n    colors: 'sequential (full domain)'\n  },\n  render: args => <HeatMapWithColor colorConfig={args.colors} />\n}",...ColorScales.parameters?.docs?.source},description:{story:"Use the controls to toggle between heatmap variants with different colors.\nAll the variants use named color schemes, and add fine-tuning.\n\n - sequential (full_domain): sequential scale that covers all values in the heatmap\n - sequential (restricted domain): sequential scale that covers only a part of the values in the heatmap\n - diverging at 0.5: three color scale with the middle color placed the middle of the domain\n - diverging at 0.33: three color scale with the middle color at the 33th percentile of the domain",...ColorScales.parameters?.docs?.description}}},CustomColorScales.parameters={...CustomColorScales.parameters,docs:{...CustomColorScales.parameters?.docs,source:{originalSource:"{\n  argTypes: {\n    colors: {\n      control: 'select',\n      options: ['custom sequential', 'custom diverging at 0.5', 'custom diverging at 0.33', 'custom interpolator']\n    }\n  },\n  args: {\n    colors: 'custom sequential'\n  },\n  render: args => <HeatMapWithColor colorConfig={args.colors} />\n}",...CustomColorScales.parameters?.docs?.source},description:{story:"Use the controls to toggle between heatmap variants with different colors.\nAll the variants use color scales with custom colors (specified via rgb strings).\n\n - custom sequential: two-color scale with custom colors\n - custom diverging at 0.5: three-color scale with custom colors\n - custom diverging at 0.33: three-color scale with custom colors, with the middle color at the 33 percentile of the domain\n - custom interpolator: multi-color scale prepared using a custom interpolator function",...CustomColorScales.parameters?.docs?.description}}};const __namedExportsOrder=["Basic","VariableCellSize","CustomCellComponent","CustomTooltip","ColorScales","CustomColorScales"];try{ColorScales.displayName="ColorScales",ColorScales.__docgenInfo={description:"Use the controls to toggle between heatmap variants with different colors.\nAll the variants use named color schemes, and add fine-tuning.\n\n - sequential (full_domain): sequential scale that covers all values in the heatmap\n - sequential (restricted domain): sequential scale that covers only a part of the values in the heatmap\n - diverging at 0.5: three color scale with the middle color placed the middle of the domain\n - diverging at 0.33: three color scale with the middle color at the 33th percentile of the domain",displayName:"ColorScales",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/heatmap/HeatMap.stories.tsx#ColorScales"]={docgenInfo:ColorScales.__docgenInfo,name:"ColorScales",path:"stories/heatmap/HeatMap.stories.tsx#ColorScales"})}catch(__react_docgen_typescript_loader_error){}try{CustomColorScales.displayName="CustomColorScales",CustomColorScales.__docgenInfo={description:"Use the controls to toggle between heatmap variants with different colors.\nAll the variants use color scales with custom colors (specified via rgb strings).\n\n - custom sequential: two-color scale with custom colors\n - custom diverging at 0.5: three-color scale with custom colors\n - custom diverging at 0.33: three-color scale with custom colors, with the middle color at the 33 percentile of the domain\n - custom interpolator: multi-color scale prepared using a custom interpolator function",displayName:"CustomColorScales",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/heatmap/HeatMap.stories.tsx#CustomColorScales"]={docgenInfo:CustomColorScales.__docgenInfo,name:"CustomColorScales",path:"stories/heatmap/HeatMap.stories.tsx#CustomColorScales"})}catch(__react_docgen_typescript_loader_error){}}}]);