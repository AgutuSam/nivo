"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[3746],{"../packages/waffle/dist/nivo-waffle.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N9:()=>ae,XF:()=>re,qx:()=>ie,zL:()=>de});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),lodash_partial__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/partial.js"),lodash_partial__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_partial__WEBPACK_IMPORTED_MODULE_1__),react_motion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react-motion@0.5.2_react@18.2.0/node_modules/react-motion/lib/react-motion.js"),_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../packages/recompose/dist/nivo-recompose.es.js"),_nivo_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../packages/core/dist/nivo-core.es.js"),_nivo_legends__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../packages/legends/dist/nivo-legends.es.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_nivo_colors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../packages/colors/dist/nivo-colors.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),lodash_range__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/range.js"),lodash_range__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_8__),_nivo_tooltip__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../packages/tooltip/dist/nivo-tooltip.es.js");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},z.apply(this,arguments)}function L(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var P=function(e){var t=e.position,o=e.size,r=e.x,i=e.y,n=e.color,a=e.fill,l=e.opacity,c=e.borderWidth,s=e.borderColor,d=e.data,u=e.onHover,p=e.onLeave,f=e.onClick;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("rect",{width:o,height:o,x:r,y:i,fill:a||n,strokeWidth:c,stroke:s,opacity:l,onMouseEnter:u,onMouseMove:u,onMouseLeave:p,onClick:function(e){f({position:t,color:n,x:r,y:i,data:d},e)}})};P.propTypes={position:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,size:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,x:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,y:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,color:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,fill:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,opacity:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,borderWidth:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,borderColor:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,data:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object.isRequired,onHover:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,onLeave:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,onClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired},P.defaultProps={data:{}},P.displayName="WaffleCell";var j=(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.Le)(P),N=function(e){var t=e.position,o=e.size,r=e.x,i=e.y,n=e.color,a=e.opacity,l=e.borderWidth,c=e.borderColor,s=e.data,d=e.onHover,u=e.onLeave,p=e.onClick;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{style:{position:"absolute",top:i,left:r,width:o,height:o,background:n,opacity:a,boxSizing:"content-box",borderStyle:"solid",borderWidth:l+"px",borderColor:c},onMouseEnter:d,onMouseMove:d,onMouseLeave:u,onClick:function(e){p({position:t,color:n,x:r,y:i,data:s},e)}})};N.propTypes={position:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,size:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,x:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,y:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,color:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,opacity:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,borderWidth:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,borderColor:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,data:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object.isRequired,onHover:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,onLeave:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,onClick:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired},N.defaultProps={data:{}},N.displayName="WaffleCellHtml";var F=(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.Le)(N),_={total:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,data:prop_types__WEBPACK_IMPORTED_MODULE_10___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().shape({id:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,prop_types__WEBPACK_IMPORTED_MODULE_10___default().number]).isRequired,label:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,prop_types__WEBPACK_IMPORTED_MODULE_10___default().number]).isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired})).isRequired,hiddenIds:prop_types__WEBPACK_IMPORTED_MODULE_10___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,prop_types__WEBPACK_IMPORTED_MODULE_10___default().number])).isRequired,rows:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,columns:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,fillDirection:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOf(["top","right","bottom","left"]).isRequired,padding:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,colors:_nivo_colors__WEBPACK_IMPORTED_MODULE_6__.qi.isRequired,emptyColor:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,emptyOpacity:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,borderWidth:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,borderColor:_nivo_colors__WEBPACK_IMPORTED_MODULE_6__.UO.isRequired,getBorderColor:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,isInteractive:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,tooltipFormat:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,prop_types__WEBPACK_IMPORTED_MODULE_10___default().string]),tooltip:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,cellSize:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,cells:prop_types__WEBPACK_IMPORTED_MODULE_10___default().array.isRequired,origin:prop_types__WEBPACK_IMPORTED_MODULE_10___default().shape({x:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,y:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired}).isRequired},B=z({},_,{cellComponent:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,role:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired},_nivo_core__WEBPACK_IMPORTED_MODULE_4__._U,{legends:prop_types__WEBPACK_IMPORTED_MODULE_10___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().shape(_nivo_legends__WEBPACK_IMPORTED_MODULE_5__.iQ)).isRequired}),K=z({},_,{cellComponent:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired}),U=z({},_,{pixelRatio:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,legends:prop_types__WEBPACK_IMPORTED_MODULE_10___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().shape(_nivo_legends__WEBPACK_IMPORTED_MODULE_5__.iQ)).isRequired}),G={hiddenIds:[],fillDirection:"bottom",padding:1,colors:{scheme:"nivo"},emptyColor:"#cccccc",emptyOpacity:1,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},defs:[],fill:[],isInteractive:!0,onClick:_nivo_core__WEBPACK_IMPORTED_MODULE_4__.ZT},J=z({},G,{cellComponent:j,role:"img",defs:[],fill:[],legends:[]}),Q=z({},G,{cellComponent:F}),V=z({},G,{legends:[],pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),X=Object.freeze({__proto__:null,WaffleCanvasDefaultProps:V,WaffleCanvasPropTypes:U,WaffleDefaultProps:J,WaffleHtmlDefaultProps:Q,WaffleHtmlPropTypes:K,WafflePropTypes:B}),Z=function(e,t){var o=e.map((function(e){return z({},e)}));return t.forEach((function(e){lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(e.startAt,e.endAt).forEach((function(t){var r=o[t];void 0!==r&&(r.data=e,r.groupIndex=e.groupIndex,r.color=e.color)}))})),o},$=[(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.U6)(),(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.Zz)(),(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.Gt)(),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.x3)(["colors"],(function(e){var t=e.colors;return{getColor:(0,_nivo_colors__WEBPACK_IMPORTED_MODULE_6__.Kc)(t,"id")}})),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.x3)(["borderColor","theme"],(function(e){var t=e.borderColor,o=e.theme;return{getBorderColor:(0,_nivo_colors__WEBPACK_IMPORTED_MODULE_6__.B3)(t,o)}})),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.xJ)("currentCell","setCurrentCell",null),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.x3)(["rows","columns","total"],(function(e){var t=e.rows,o=e.columns;return{unit:e.total/(t*o)}})),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.x3)(["width","height","rows","columns","fillDirection","padding"],(function(e){return function(e,t,o,r,i,n){var a=function(e,t,o,r,i){var n=(e-(r-1)*i)/r,a=(t-(o-1)*i)/o;return Math.min(n,a)}(e,t,o,r,n),l=[];switch(i){case"top":lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(o).forEach((function(e){lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(r).forEach((function(t){l.push({position:e*r+t,row:e,column:t,x:t*(a+n),y:e*(a+n)})}))}));break;case"bottom":lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(o-1,-1).forEach((function(e){lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(r).forEach((function(t){l.push({position:e*r+t,row:e,column:t,x:t*(a+n),y:e*(a+n)})}))}));break;case"left":lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(r).forEach((function(e){lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(o).forEach((function(t){l.push({position:t*r+e,row:t,column:e,x:e*(a+n),y:t*(a+n)})}))}));break;case"right":lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(r-1,-1).forEach((function(e){lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(o-1,-1).forEach((function(t){l.push({position:t*r+e,row:t,column:e,x:e*(a+n),y:t*(a+n)})}))}));break;default:throw new Error("Invalid fill direction provided: "+i)}return{cells:l,cellSize:a,origin:{x:(e-(a*r+n*(r-1)))/2,y:(t-(a*o+n*(o-1)))/2}}}(e.width,e.height,e.rows,e.columns,e.fillDirection,e.padding)})),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.x3)(["data","unit","getColor","hiddenIds"],(function(e){var t=e.data,o=e.unit,r=e.getColor,i=e.hiddenIds,n=0;return{computedData:t.map((function(e,t){if(!i.includes(e.id)){var a=z({},e,{groupIndex:t,startAt:n,endAt:n+Math.round(e.value/o),color:r(e)});return n=a.endAt,a}return z({},e,{groupIndex:t,startAt:n,endAt:n,color:r(e)})}))}})),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.x3)(["computedData"],(function(e){return{legendData:e.computedData.map((function(e){return{id:e.id,label:e.id,color:e.color,fill:e.fill}}))}}))],ee=function(e){var t=X[e.displayName+"DefaultProps"];switch(e.displayName){case"Waffle":return _nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.qC.apply(void 0,[(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.lG)(t)].concat($,[(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.Gt)(),(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.x3)(["computedData","defs","fill"],(function(e){var t=e.computedData,o=e.defs,r=e.fill;return{defs:(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.yU)(o,t,r,{targetKey:"fill"})}})),_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.Le]))(e);case"WaffleHtml":return _nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.qC.apply(void 0,[(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.lG)(t)].concat($,[(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.Gt)(),_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.Le]))(e);case"WaffleCanvas":return _nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.qC.apply(void 0,[(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.lG)(t)].concat($,[_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.Le]))(e)}return e},te=function(e){var t=e.position,o=e.row,r=e.column,i=e.color,n=e.data,a=e.theme,l=e.tooltipFormat,c=e.tooltip;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_nivo_tooltip__WEBPACK_IMPORTED_MODULE_9__._5,{id:n.label,value:n.value,enableChip:!0,color:i,theme:a,format:l,renderContent:"function"==typeof c?c.bind(null,z({position:t,row:o,column:r,color:i},n)):null})};te.displayName="WaffleCellTooltip",te.propTypes={position:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,row:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,column:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number.isRequired,color:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,data:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object.isRequired,tooltipFormat:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,prop_types__WEBPACK_IMPORTED_MODULE_10___default().string]),tooltip:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};var oe=function(o){function a(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=o.call.apply(o,[this].concat(r))||this).handleCellHover=function(t,o,r){var i=e.props,n=i.setCurrentCell,a=i.theme,l=i.tooltipFormat,c=i.tooltip;n(o),o.data&&t((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(te,{position:o.position,row:o.row,column:o.column,color:o.color,data:o.data,theme:a,tooltipFormat:l,tooltip:c}),r)},e.handleCellLeave=function(t){e.props.setCurrentCell(null),t()},e}return L(a,o),a.prototype.render=function(){var o=this,a=this.props;a.hiddenIds;var l=a.margin,c=a.width,s=a.height,d=a.outerWidth,u=a.outerHeight,p=a.cellComponent,f=a.emptyColor,h=a.emptyOpacity,m=a.borderWidth,v=a.getBorderColor,y=a.theme,C=a.defs,R=a.animate,x=a.motionStiffness,q=a.motionDamping,W=a.isInteractive,k=a.onClick,A=a.cells,H=a.cellSize,D=a.origin,O=a.computedData,E=a.legendData,T=a.legends,L=a.role;return A.forEach((function(e){e.color=f})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_nivo_core__WEBPACK_IMPORTED_MODULE_4__.Qf,{isInteractive:W,theme:y,animate:R,motionDamping:q,motionStiffness:x,children:function(a){var f,g=a.showTooltip,W=a.hideTooltip,S=lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(o.handleCellHover,g),P=lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(o.handleCellLeave,W);if(!0===R){var j={stiffness:x,damping:q};f=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_motion__WEBPACK_IMPORTED_MODULE_2__.bg,{styles:O.map((function(e){return{key:e.id,data:e,style:{startAt:(0,react_motion__WEBPACK_IMPORTED_MODULE_2__.ST)(e.startAt,j),endAt:(0,react_motion__WEBPACK_IMPORTED_MODULE_2__.ST)(e.endAt,j)}}})),children:function(o){var i=Z(A,o.map((function(e){return z({},e.data,{startAt:Math.round(e.style.startAt),endAt:Math.round(e.style.endAt)})})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:i.map((function(e){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(p,{key:e.position,position:e.position,size:H,x:e.x,y:e.y,color:e.color,fill:e.data&&e.data.fill,opacity:e.data?1:h,borderWidth:m,borderColor:v(e),data:e.data,onHover:lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(S,e),onLeave:P,onClick:k})}))})}})}else{var N=Z(A,O);f=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:N.map((function(e){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(p,{key:e.position,position:e.position,size:H,x:e.x,y:e.y,color:e.color,fill:e.data&&e.data.fill,opacity:e.data?1:h,borderWidth:m,borderColor:v(e),data:e.data,onHover:lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(S,e),onLeave:P,onClick:k})}))})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_nivo_core__WEBPACK_IMPORTED_MODULE_4__.tM,{width:d,height:u,margin:l,defs:C,theme:y,role:L,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("g",{transform:"translate("+D.x+", "+D.y+")",children:f}),T.map((function(e,t){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_nivo_legends__WEBPACK_IMPORTED_MODULE_5__.$6,z({},e,{containerWidth:c,containerHeight:s,data:E,theme:y}),t)}))]})}})},a}(react__WEBPACK_IMPORTED_MODULE_0__.Component);oe.propTypes=B,oe.displayName="Waffle";var re=(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.hC)(oe.displayName)(ee(oe)),ie=function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_nivo_core__WEBPACK_IMPORTED_MODULE_4__.d,{children:function(t){var o=t.width,r=t.height;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(re,z({width:o,height:r},e))}})},ne=function(o){function a(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=o.call.apply(o,[this].concat(r))||this).handleCellHover=function(t,o,r){var i=e.props,n=i.setCurrentCell,a=i.theme,l=i.tooltipFormat,c=i.tooltip;n(o),o.data&&t((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(te,{position:o.position,row:o.row,column:o.column,color:o.color,data:o.data,theme:a,tooltipFormat:l,tooltip:c}),r)},e.handleCellLeave=function(t){e.props.setCurrentCell(null),t()},e}return L(a,o),a.prototype.render=function(){var o=this,a=this.props,l=a.margin,c=a.outerWidth,s=a.outerHeight,d=a.cellComponent,u=a.emptyColor,p=a.emptyOpacity,f=a.borderWidth,h=a.getBorderColor,m=a.theme,v=a.animate,y=a.motionStiffness,b=a.motionDamping,C=a.isInteractive,R=a.onClick,x=a.cells,q=a.cellSize,w=a.origin,W=a.computedData;return x.forEach((function(e){e.color=u})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_nivo_core__WEBPACK_IMPORTED_MODULE_4__.Qf,{isInteractive:C,theme:m,animate:v,motionDamping:b,motionStiffness:y,children:function(a){var u,m=a.showTooltip,g=a.hideTooltip,C=lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(o.handleCellHover,m),k=lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(o.handleCellLeave,g);if(!0===v){var A={stiffness:y,damping:b};u=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_motion__WEBPACK_IMPORTED_MODULE_2__.bg,{styles:W.map((function(e){return{key:e.id,data:e,style:{startAt:(0,react_motion__WEBPACK_IMPORTED_MODULE_2__.ST)(e.startAt,A),endAt:(0,react_motion__WEBPACK_IMPORTED_MODULE_2__.ST)(e.endAt,A)}}})),children:function(o){var i=Z(x,o.map((function(e){return z({},e.data,{startAt:Math.round(e.style.startAt),endAt:Math.round(e.style.endAt)})})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:i.map((function(e){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(d,{key:e.position,position:e.position,size:q,x:e.x,y:e.y,color:e.color,fill:e.data&&e.data.fill,opacity:e.data?1:p,borderWidth:f,borderColor:h(e),data:e.data,onHover:lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(C,e),onLeave:k,onClick:R})}))})}})}else{var H=Z(x,W);u=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:H.map((function(e){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(d,{key:e.position,position:e.position,size:q,x:e.x,y:e.y,color:e.color,fill:e.data&&e.data.fill,opacity:e.data?1:p,borderWidth:f,borderColor:h(e),data:e.data,onHover:lodash_partial__WEBPACK_IMPORTED_MODULE_1___default()(C,e),onLeave:k,onClick:R})}))})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{style:{position:"relative",width:c,height:s},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{style:{position:"absolute",top:l.top+w.y,left:l.left+w.x},children:u})})}})},a}(react__WEBPACK_IMPORTED_MODULE_0__.Component);ne.propTypes=K,ne.displayName="WaffleHtml";var ae=(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.hC)(ne.displayName)(ee(ne)),ce=function(e,t,o,r,i,n){return e.find((function(e){return(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.zn)(e.x+o.x+r.left,e.y+o.y+r.top,t,t,i,n)}))},se=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleMouseHover=function(e,o){return function(r){var i=t.props,n=i.isInteractive,a=i.margin,l=i.theme,c=i.cells,s=i.cellSize,d=i.origin,u=i.tooltipFormat,p=i.tooltip;if(n&&c){var f=(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.P6)(t.surface,r),h=f[0],m=f[1],v=ce(c,s,d,a,h,m);void 0!==v&&v.data?e((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(te,{position:v.position,row:v.row,column:v.column,color:v.color,data:v.data,theme:l,tooltipFormat:u,tooltip:p}),r):o()}}},t.handleMouseLeave=function(e){return function(){!0===t.props.isInteractive&&e()}},t.handleClick=function(e){var o=t.props,r=o.isInteractive,i=o.margin,n=o.onClick,a=o.cells,l=o.cellSize,c=o.origin;if(r&&a){var s=(0,_nivo_core__WEBPACK_IMPORTED_MODULE_4__.P6)(t.surface,e),d=s[0],u=s[1],p=ce(a,l,c,i,d,u);void 0!==p&&n(p,e)}},t}L(t,e);var o=t.prototype;return o.componentDidMount=function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)},o.componentDidUpdate=function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)},o.draw=function(e){var t=this,o=e.pixelRatio,r=e.margin,i=e.width,n=e.height,a=e.outerWidth,l=e.outerHeight,c=e.getColor,s=e.emptyColor,d=e.emptyOpacity,u=e.borderWidth,p=e.getBorderColor,f=e.cells,h=e.cellSize,m=e.origin,v=e.computedData,y=e.legendData,g=e.legends,b=e.theme;this.surface.width=a*o,this.surface.height=l*o,this.ctx.scale(o,o),this.ctx.fillStyle=b.background,this.ctx.fillRect(0,0,a,l),this.ctx.translate(r.left,r.top),f.forEach((function(e){e.color=s})),v.forEach((function(e){lodash_range__WEBPACK_IMPORTED_MODULE_8___default()(e.startAt,e.endAt).forEach((function(t){var o=f[t];void 0!==o&&(o.data=e,o.groupIndex=e.groupIndex,o.color=c(e))}))})),f.forEach((function(e){t.ctx.save(),t.ctx.globalAlpha=e.data?1:d,t.ctx.fillStyle=e.color,t.ctx.fillRect(e.x+m.x,e.y+m.y,h,h),u>0&&(t.ctx.strokeStyle=p(e),t.ctx.lineWidth=u,t.ctx.strokeRect(e.x+m.x,e.y+m.y,h,h)),t.ctx.restore()})),g.forEach((function(e){(0,_nivo_legends__WEBPACK_IMPORTED_MODULE_5__.as)(t.ctx,z({},e,{data:y,containerWidth:i,containerHeight:n,theme:b}))}))},o.render=function(){var e=this,t=this.props,o=t.outerWidth,r=t.outerHeight,i=t.pixelRatio,n=t.isInteractive,a=t.theme;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_nivo_core__WEBPACK_IMPORTED_MODULE_4__.Qf,{isInteractive:n,theme:a,animate:!1,children:function(t){var n=t.showTooltip,a=t.hideTooltip;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("canvas",{ref:function(t){e.surface=t},width:o*i,height:r*i,style:{width:o,height:r},onMouseEnter:e.handleMouseHover(n,a),onMouseMove:e.handleMouseHover(n,a),onMouseLeave:e.handleMouseLeave(a),onClick:e.handleClick})}})},t}(react__WEBPACK_IMPORTED_MODULE_0__.Component);se.propTypes=U,se.displayName="WaffleCanvas";var de=(0,_nivo_recompose__WEBPACK_IMPORTED_MODULE_3__.hC)(se.displayName)(ee(se))}}]);