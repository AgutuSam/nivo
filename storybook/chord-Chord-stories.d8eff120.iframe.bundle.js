"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[6886],{"./stories/chord/Chord.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AlternativeColors:()=>AlternativeColors,AnglePadding:()=>AnglePadding,Basic:()=>Basic,CustomLabelsText:()=>CustomLabelsText,CustomTooltips:()=>CustomTooltips,PuttingLabelsInsideArcs:()=>PuttingLabelsInsideArcs,RadialLabels:()=>RadialLabels,RibbonsOffset:()=>RibbonsOffset,WithFormattedValues:()=>WithFormattedValues,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Chord_stories});var nivo_generators_es=__webpack_require__("../packages/generators/dist/nivo-generators.es.js"),nivo_tooltip_es=__webpack_require__("../packages/tooltip/dist/nivo-tooltip.es.js"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),nivo_core_es=__webpack_require__("../packages/core/dist/nivo-core.es.js"),nivo_legends_es=__webpack_require__("../packages/legends/dist/nivo-legends.es.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"),nivo_colors_es=__webpack_require__("../packages/colors/dist/nivo-colors.es.js"),esm=__webpack_require__("../node_modules/.pnpm/@react-spring+web@9.7.2_react-dom@18.2.0_react@18.2.0/node_modules/@react-spring/web/dist/esm/index.js"),arc=__webpack_require__("../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/arc.js"),src=__webpack_require__("../node_modules/.pnpm/d3-chord@1.0.6/node_modules/d3-chord/src/index.js");__webpack_require__("../packages/arcs/dist/nivo-arcs.es.js");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},V.apply(this,arguments)}function P(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}var D={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:(0,react.memo)((function(e){var r=e.arc;return(0,jsx_runtime.jsx)(nivo_tooltip_es._5,{id:r.label,value:r.formattedValue,color:r.color,enableChip:!0})})),ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},z=V({},D,{ribbonBlendMode:"normal",ribbonTooltip:(0,react.memo)((function(e){var r=e.ribbon;return(0,jsx_runtime.jsx)(nivo_tooltip_es.zI,{rows:[[(0,jsx_runtime.jsx)(nivo_tooltip_es.Af,{color:r.source.color},"chip"),(0,jsx_runtime.jsx)("strong",{children:r.source.label},"id"),r.source.formattedValue],[(0,jsx_runtime.jsx)(nivo_tooltip_es.Af,{color:r.target.color},"chip"),(0,jsx_runtime.jsx)("strong",{children:r.target.label},"id"),r.target.formattedValue]]})}))}),Q=(V({},D,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),function(e){var r=e.startAngle,n=e.endAngle,t=e.arcGenerator;return(0,esm.to)([r,n],(function(e,r){return t({startAngle:e,endAngle:r})}))}),U=function(e){var r=e.sourceStartAngle,n=e.sourceEndAngle,t=e.targetStartAngle,o=e.targetEndAngle,i=e.ribbonGenerator;return(0,esm.to)([r,n,t,o],(function(e,r,n,t){return i({source:{startAngle:Math.min(e,r),endAngle:Math.max(r,e)},target:{startAngle:Math.min(n,t),endAngle:Math.max(t,n)}})}))},X=function(e){var n=e.padAngle;return(0,react.useMemo)((function(){return function(e){var r=e.padAngle;return(0,src.f)().padAngle(r)}({padAngle:n})}),[n])},Y=function(e){var n=e.width,t=e.height,o=e.innerRadiusRatio,i=e.innerRadiusOffset;return(0,react.useMemo)((function(){return function(e){var r=e.width,n=e.height,t=e.innerRadiusRatio,o=e.innerRadiusOffset,i=[r/2,n/2],a=Math.min(r,n)/2,c=a*t,l=a*(t-o);return{center:i,radius:a,innerRadius:c,arcGenerator:(0,arc.Z)().outerRadius(a).innerRadius(c),ribbonGenerator:(0,src.N)().radius(l)}}({width:n,height:t,innerRadiusRatio:o,innerRadiusOffset:i})}),[n,t,o,i])},Z=function(e){var n=e.chord,t=e.getColor,o=e.keys,i=e.data,a=e.getLabel,c=e.formatValue;return(0,react.useMemo)((function(){return function(e){var r=e.chord,n=e.data,t=e.keys,o=e.getLabel,i=e.formatValue,a=e.getColor,c=r(n),l=c.groups.map((function(e){var r=V({},e,{id:t[e.index],formattedValue:i(e.value)});return V({},r,{label:o(r),color:a(r)})}));return{arcs:l,ribbons:c.map((function(e){var r=V({},e.source,{id:t[e.source.index],formattedValue:i(e.source.value)}),n=V({},e.target,{id:t[e.target.index],formattedValue:i(e.target.value)});return V({},e,{id:[r.id,n.id].sort().join("."),source:V({},r,{label:o(r),color:a(r)}),target:V({},n,{label:o(n),color:a(n)})})}))}}({chord:n,data:i,keys:o,getLabel:a,formatValue:c,getColor:t})}),[n,t,o,i,a,c])},$=function(e){var n=e.data,t=e.keys,o=e.label,i=void 0===o?D.label:o,a=e.valueFormat,c=e.width,s=e.height,u=e.innerRadiusRatio,b=void 0===u?D.innerRadiusRatio:u,v=e.innerRadiusOffset,f=void 0===v?D.innerRadiusOffset:v,g=e.padAngle,p=void 0===g?D.padAngle:g,h=e.colors,y=void 0===h?D.colors:h,m=X({padAngle:p}),A=Y({width:c,height:s,innerRadiusRatio:b,innerRadiusOffset:f}),R=A.center,O=A.radius,C=A.innerRadius,M=A.arcGenerator,x=A.ribbonGenerator,k=(0,react.useMemo)((function(){return(0,nivo_core_es.ji)(i)}),[i]),E=(0,nivo_core_es.O_)(a),B=(0,nivo_colors_es.U)(y,"id"),I=Z({chord:m,getColor:B,keys:t,data:n,getLabel:k,formatValue:E});return{center:R,chord:m,radius:O,innerRadius:C,arcGenerator:M,ribbonGenerator:x,getColor:B,arcs:I.arcs,ribbons:I.ribbons}},_=function(e){var t=e.arcOpacity,o=void 0===t?D.arcOpacity:t,i=e.activeArcOpacity,a=void 0===i?D.activeArcOpacity:i,c=e.inactiveArcOpacity,l=void 0===c?D.inactiveArcOpacity:c,d=e.ribbons,s=e.ribbonOpacity,u=void 0===s?D.ribbonOpacity:s,b=e.activeRibbonOpacity,v=void 0===b?D.activeRibbonOpacity:b,f=e.inactiveRibbonOpacity,g=void 0===f?D.inactiveRibbonOpacity:f,p=(0,react.useState)(null),h=p[0],y=p[1],m=(0,react.useState)(null),A=m[0],R=m[1],O=(0,react.useMemo)((function(){var e=[],r=[];return h&&(e.push(h.id),d.filter((function(e){return e.source.id===h.id||e.target.id===h.id})).forEach((function(e){r.push(e.id)}))),A&&(e.push(A.source.id),e.push(A.target.id),r.push(A.id)),{selectedArcIds:e,selectedRibbonIds:r}}),[h,A,d]),C=O.selectedArcIds.length>1||O.selectedRibbonIds.length>0,M=(0,react.useMemo)((function(){return function(e){return C?O.selectedArcIds.includes(e.id)?a:l:o}}),[C,O.selectedArcIds,o,a,l]),x=(0,react.useMemo)((function(){return function(e){return C?O.selectedRibbonIds.includes(e.id)?v:g:u}}),[C,O.selectedRibbonIds,u,v,g]);return V({currentArc:h,setCurrentArc:y,currentRibbon:A,setCurrentRibbon:R,hasSelection:C},O,{getArcOpacity:M,getRibbonOpacity:x})},ee=function(e){var n=e.center,t=e.radius,o=e.arcs,i=e.arcGenerator,a=e.ribbons,c=e.ribbonGenerator;return(0,react.useMemo)((function(){return{center:n,radius:t,arcs:o,arcGenerator:i,ribbons:a,ribbonGenerator:c}}),[n,t,o,i,a,c])},re=(0,react.memo)((function(e){var n=e.ribbon,o=e.ribbonGenerator,i=e.animatedProps,a=e.borderWidth,c=e.blendMode,l=e.isInteractive,d=e.setCurrent,s=e.onMouseEnter,u=e.onMouseMove,b=e.onMouseLeave,v=e.onClick,f=e.tooltip,g=(0,nivo_tooltip_es.lL)(),p=g.showTooltipFromEvent,h=g.hideTooltip,y=(0,react.useMemo)((function(){if(l)return function(e){d(n),p((0,react.createElement)(f,{ribbon:n}),e),null==s||s(n,e)}}),[l,p,f,n,s,d]),m=(0,react.useMemo)((function(){if(l)return function(e){p((0,react.createElement)(f,{ribbon:n}),e),null==u||u(n,e)}}),[l,p,f,n,u]),A=(0,react.useMemo)((function(){if(l)return function(e){d(null),h(),null==b||b(n,e)}}),[l,h,n,b,d]),R=(0,react.useMemo)((function(){if(l&&v)return function(e){return null==v?void 0:v(n,e)}}),[l,n,v]);return(0,jsx_runtime.jsx)(esm.q.path,{"data-testid":"ribbon."+n.source.id+"."+n.target.id,d:U({sourceStartAngle:i.sourceStartAngle,sourceEndAngle:i.sourceEndAngle,targetStartAngle:i.targetStartAngle,targetEndAngle:i.targetEndAngle,ribbonGenerator:o}),fill:i.color,opacity:i.opacity,strokeWidth:a,stroke:i.borderColor,style:{mixBlendMode:c},onMouseEnter:y,onMouseMove:m,onMouseLeave:A,onClick:R})})),ne=function(e,r){var n,t,o=e.source,i=e.target;if(o.startAngle<i.startAngle?(n=o,t=i):(n=i,t=o),r){var a=(0,nivo_core_es.Vp)(n),c=(0,nivo_core_es.Vp)(t);return{sourceStartAngle:a,sourceEndAngle:a,targetStartAngle:c,targetEndAngle:c}}return{sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:t.startAngle,targetEndAngle:t.endAngle}},te=(0,react.memo)((function(e){var r=e.ribbons,n=e.ribbonGenerator,t=e.borderWidth,o=e.borderColor,i=e.getOpacity,a=e.blendMode,c=e.isInteractive,l=e.setCurrent,d=e.onMouseEnter,b=e.onMouseMove,v=e.onMouseLeave,f=e.onClick,g=e.tooltip,p=(0,nivo_core_es.tf)(),h=p.animate,y=p.config,m=(0,nivo_core_es.Fg)(),A=(0,nivo_colors_es.Bf)(o,m),R=(0,esm.Yz)(r,{keys:function(e){return e.id},initial:function(e){return V({},ne(e,!1),{color:e.source.color,opacity:i(e),borderColor:A(e.source)})},from:function(e){return V({},ne(e,!1),{color:e.source.color,opacity:0,borderColor:A(e.source)})},update:function(e){return V({},ne(e,!1),{color:e.source.color,opacity:i(e),borderColor:A(e.source)})},leave:function(e){return V({},ne(e,!1),{color:e.source.color,opacity:0,borderColor:A(e.source)})},expires:!0,config:y,immediate:!h});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:R((function(e,r){return(0,jsx_runtime.jsx)(re,{ribbon:r,ribbonGenerator:n,animatedProps:e,borderWidth:t,blendMode:a,setCurrent:l,isInteractive:c,tooltip:g,onMouseEnter:d,onMouseMove:b,onMouseLeave:v,onClick:f},r.id)}))})})),oe=(0,react.memo)((function(e){var n=e.arc,o=e.animatedProps,i=e.borderWidth,a=e.arcGenerator,c=e.setCurrent,l=e.isInteractive,d=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,b=e.onClick,v=e.tooltip,f=(0,nivo_tooltip_es.lL)(),g=f.showTooltipFromEvent,p=f.hideTooltip,h=(0,react.useMemo)((function(){if(l)return function(e){c(n),g((0,react.createElement)(v,{arc:n}),e),null==d||d(n,e)}}),[l,g,v,n,d,c]),y=(0,react.useMemo)((function(){if(l)return function(e){g((0,react.createElement)(v,{arc:n}),e),null==s||s(n,e)}}),[l,g,v,n,s]),m=(0,react.useMemo)((function(){if(l)return function(e){c(null),p(),null==u||u(n,e)}}),[l,p,n,u,c]),A=(0,react.useMemo)((function(){if(l&&b)return function(e){return null==b?void 0:b(n,e)}}),[l,n,b]);return(0,jsx_runtime.jsx)(esm.q.path,{"data-testid":"arc."+n.id,d:Q({startAngle:o.startAngle,endAngle:o.endAngle,arcGenerator:a}),fill:o.color,opacity:o.opacity,strokeWidth:i,stroke:o.borderColor,onMouseEnter:h,onMouseMove:y,onMouseLeave:m,onClick:A})})),ie=(0,react.memo)((function(e){var r=e.arcs,n=e.borderWidth,t=e.borderColor,o=e.getOpacity,i=e.arcGenerator,a=e.setCurrent,c=e.isInteractive,l=e.onMouseEnter,d=e.onMouseMove,b=e.onMouseLeave,v=e.onClick,f=e.tooltip,g=(0,nivo_core_es.tf)(),p=g.animate,h=g.config,y=(0,nivo_core_es.Fg)(),m=(0,nivo_colors_es.Bf)(t,y),A=(0,esm.Yz)(r,{keys:function(e){return e.id},initial:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:o(e),borderColor:m(e)}},from:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:m(e)}},update:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:o(e),borderColor:m(e)}},leave:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:m(e)}},expires:!0,config:h,immediate:!p});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:A((function(e,r){return(0,jsx_runtime.jsx)(oe,{arc:r,arcGenerator:i,animatedProps:e,borderWidth:n,setCurrent:a,isInteractive:c,tooltip:f,onMouseEnter:l,onMouseMove:d,onMouseLeave:b,onClick:v},r.id)}))})})),ae=(0,react.memo)((function(e){var n=e.arcs,t=e.radius,o=e.rotation,i=e.color,a=(0,nivo_core_es.tf)(),c=a.animate,l=a.config,d=(0,nivo_core_es.Fg)(),f=(0,nivo_colors_es.Bf)(i,d),g=(0,react.useMemo)((function(){return n.map((function(e){var r=(0,nivo_core_es.Vp)(e),n=(0,nivo_core_es.$t)(t,r,o);return{id:e.id,label:e.label,x:n.x,y:n.y,rotation:n.rotate,color:f(e),textAnchor:n.align,dominantBaseline:n.baseline}}))}),[n,t,o,f]),p=(0,esm.Yz)(g,{keys:function(e){return e.id},initial:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},from:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},enter:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},update:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},expires:!0,config:l,immediate:!c});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:p((function(e,r){return(0,jsx_runtime.jsx)(esm.q.text,{"data-testid":"label."+r.id,style:V({},d.labels.text,{pointerEvents:"none",fill:e.color}),transform:(0,esm.to)([e.x,e.y,e.rotation],(function(e,r,n){return"translate("+e+", "+r+") rotate("+n+")"})),textAnchor:r.textAnchor,dominantBaseline:r.dominantBaseline,children:r.label},r.id)}))})})),ce=["isInteractive","animate","motionConfig","theme","renderWrapper"],le=function(e){var r=e.data,n=e.keys,i=e.label,a=e.valueFormat,c=e.margin,l=e.width,d=e.height,s=e.innerRadiusRatio,u=void 0===s?z.innerRadiusRatio:s,b=e.innerRadiusOffset,v=void 0===b?z.innerRadiusOffset:b,f=e.padAngle,h=void 0===f?z.padAngle:f,y=e.layers,m=void 0===y?z.layers:y,R=e.colors,O=void 0===R?z.colors:R,C=e.arcBorderWidth,M=void 0===C?z.arcBorderWidth:C,x=e.arcBorderColor,E=void 0===x?z.arcBorderColor:x,W=e.arcOpacity,B=void 0===W?z.arcOpacity:W,I=e.activeArcOpacity,G=void 0===I?z.activeArcOpacity:I,w=e.inactiveArcOpacity,L=void 0===w?z.inactiveArcOpacity:w,T=e.arcTooltip,S=void 0===T?z.arcTooltip:T,F=e.ribbonBorderWidth,P=void 0===F?z.ribbonBorderWidth:F,j=e.ribbonBorderColor,H=void 0===j?z.ribbonBorderColor:j,D=e.ribbonBlendMode,q=void 0===D?z.ribbonBlendMode:D,J=e.ribbonOpacity,K=void 0===J?z.ribbonOpacity:J,N=e.activeRibbonOpacity,Q=void 0===N?z.activeRibbonOpacity:N,U=e.inactiveRibbonOpacity,X=void 0===U?z.inactiveRibbonOpacity:U,Y=e.ribbonTooltip,Z=void 0===Y?z.ribbonTooltip:Y,re=e.enableLabel,ne=void 0===re?z.enableLabel:re,oe=e.labelOffset,ce=void 0===oe?z.labelOffset:oe,le=e.labelRotation,de=void 0===le?z.labelRotation:le,se=e.labelTextColor,ue=void 0===se?z.labelTextColor:se,be=e.isInteractive,ve=void 0===be?z.isInteractive:be,fe=e.onArcMouseEnter,ge=e.onArcMouseMove,pe=e.onArcMouseLeave,he=e.onArcClick,ye=e.onRibbonMouseEnter,me=e.onRibbonMouseMove,Ae=e.onRibbonMouseLeave,Re=e.onRibbonClick,Oe=e.legends,Ce=void 0===Oe?z.legends:Oe,Me=e.role,xe=void 0===Me?z.role:Me,ke=e.ariaLabel,Ee=e.ariaLabelledBy,We=e.ariaDescribedBy,Be=(0,nivo_core_es.Bs)(l,d,c),Ie=Be.margin,Ge=Be.innerWidth,we=Be.innerHeight,Le=Be.outerWidth,Te=Be.outerHeight,Se=$({data:r,keys:n,label:i,valueFormat:a,width:Ge,height:we,innerRadiusRatio:u,innerRadiusOffset:v,padAngle:h,colors:O}),Fe=Se.center,Ve=Se.radius,Pe=Se.arcGenerator,je=Se.ribbonGenerator,He=Se.arcs,De=Se.ribbons,ze=_({arcOpacity:B,activeArcOpacity:G,inactiveArcOpacity:L,ribbons:De,ribbonOpacity:K,activeRibbonOpacity:Q,inactiveRibbonOpacity:X}),qe=ze.setCurrentArc,Je=ze.setCurrentRibbon,Ke=ze.getArcOpacity,Ne=ze.getRibbonOpacity,Qe=ee({center:Fe,radius:Ve,arcs:He,arcGenerator:Pe,ribbons:De,ribbonGenerator:je});if(Ve<=0)return null;var Ue=He.map((function(e){return{id:e.id,label:e.label,color:e.color}})),Xe={ribbons:null,arcs:null,labels:null,legends:null};return m.includes("ribbons")&&(Xe.ribbons=(0,jsx_runtime.jsx)("g",{transform:"translate("+Fe[0]+", "+Fe[1]+")",children:(0,jsx_runtime.jsx)(te,{ribbons:De,ribbonGenerator:je,borderWidth:P,borderColor:H,getOpacity:Ne,blendMode:q,setCurrent:Je,isInteractive:ve,onMouseEnter:ye,onMouseMove:me,onMouseLeave:Ae,onClick:Re,tooltip:Z})},"ribbons")),m.includes("arcs")&&(Xe.arcs=(0,jsx_runtime.jsx)("g",{transform:"translate("+Fe[0]+", "+Fe[1]+")",children:(0,jsx_runtime.jsx)(ie,{arcs:He,arcGenerator:Pe,borderWidth:M,borderColor:E,getOpacity:Ke,setCurrent:qe,isInteractive:ve,onMouseEnter:fe,onMouseMove:ge,onMouseLeave:pe,onClick:he,tooltip:S})},"arcs")),m.includes("labels")&&ne&&(Xe.labels=(0,jsx_runtime.jsx)("g",{transform:"translate("+Fe[0]+", "+Fe[1]+")",children:(0,jsx_runtime.jsx)(ae,{arcs:He,radius:Ve+ce,rotation:de,color:ue})},"labels")),m.includes("legends")&&Ce.length>0&&(Xe.legends=(0,jsx_runtime.jsx)(react.Fragment,{children:Ce.map((function(e,r){return(0,jsx_runtime.jsx)(nivo_legends_es.$6,V({},e,{containerWidth:Ge,containerHeight:we,data:Ue}),r)}))},"legends")),(0,jsx_runtime.jsx)(nivo_core_es.tM,{width:Le,height:Te,margin:Ie,role:xe,ariaLabel:ke,ariaLabelledBy:Ee,ariaDescribedBy:We,children:m.map((function(e,r){var n;return"function"==typeof e?(0,jsx_runtime.jsx)(react.Fragment,{children:(0,react.createElement)(e,Qe)},r):null!=(n=null==Xe?void 0:Xe[e])?n:null}))})},de=function(e){var r=e.isInteractive,n=void 0===r?z.isInteractive:r,t=e.animate,o=void 0===t?z.animate:t,i=e.motionConfig,a=void 0===i?z.motionConfig:i,c=e.theme,l=e.renderWrapper,d=P(e,ce);return(0,jsx_runtime.jsx)(nivo_core_es.W2,{animate:o,isInteractive:n,motionConfig:a,renderWrapper:l,theme:c,children:(0,jsx_runtime.jsx)(le,V({isInteractive:n},d))})};Z.__docgenInfo={description:"",methods:[],displayName:"Z"},Y.__docgenInfo={description:"",methods:[],displayName:"Y"},X.__docgenInfo={description:"",methods:[],displayName:"X"},ee.__docgenInfo={description:"",methods:[],displayName:"ee"};const Chord_stories={title:"Chord",component:de,tags:["autodocs"]},generateData=size=>{const{matrix,keys}=(0,nivo_generators_es.wQ)({size});return{data:matrix,keys}},commonProperties={width:900,height:500,margin:{top:60,right:80,bottom:60,left:80},...generateData(7),xPadding:.2},Basic={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties})},RadialLabels={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,labelRotation:-90})},customLabel=arc=>`${arc.id} [${arc.value}]`,CustomLabelsText={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,...generateData(5),label:customLabel})},AnglePadding={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,labelRotation:-90,padAngle:.06})},RibbonsOffset={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,labelRotation:-90,padAngle:.02,innerRadiusOffset:.02})},AlternativeColors={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,labelRotation:-90,padAngle:.02,innerRadiusOffset:.02,colors:{scheme:"category10"}})},PuttingLabelsInsideArcs={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,...generateData(5),padAngle:.02,innerRadiusRatio:.8,innerRadiusOffset:.02,labelOffset:-30,labelTextColor:{from:"color",modifiers:[["darker",1.6]]}})},WithFormattedValues={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,...generateData(5),valueFormat:value=>`${Number(value).toLocaleString("ru-RU",{minimumFractionDigits:2})} ₽`})},ArcTooltip=({arc})=>(0,jsx_runtime.jsx)(nivo_tooltip_es._5,{id:`Custom arc tooltip, ${arc.label}`,value:arc.formattedValue,color:arc.color,enableChip:!0});ArcTooltip.displayName="ArcTooltip";const RibbonTooltip=({ribbon})=>(0,jsx_runtime.jsx)(nivo_tooltip_es.zI,{rows:[[(0,jsx_runtime.jsx)(nivo_tooltip_es.Af,{color:ribbon.source.color},"chip"),"Source (custom)",(0,jsx_runtime.jsx)("strong",{children:ribbon.source.id},"id"),ribbon.source.value],[(0,jsx_runtime.jsx)(nivo_tooltip_es.Af,{color:ribbon.target.color},"chip"),"Target (custom)",(0,jsx_runtime.jsx)("strong",{children:ribbon.target.id},"id"),ribbon.target.value]]});RibbonTooltip.displayName="RibbonTooltip";const CustomTooltips={render:()=>(0,jsx_runtime.jsx)(de,{...commonProperties,...generateData(5),arcTooltip:ArcTooltip,ribbonTooltip:RibbonTooltip})};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} />\n}",...Basic.parameters?.docs?.source}}},RadialLabels.parameters={...RadialLabels.parameters,docs:{...RadialLabels.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} labelRotation={-90} />\n}",...RadialLabels.parameters?.docs?.source}}},CustomLabelsText.parameters={...CustomLabelsText.parameters,docs:{...CustomLabelsText.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} {...generateData(5)} label={customLabel} />\n}",...CustomLabelsText.parameters?.docs?.source}}},AnglePadding.parameters={...AnglePadding.parameters,docs:{...AnglePadding.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} labelRotation={-90} padAngle={0.06} />\n}",...AnglePadding.parameters?.docs?.source}}},RibbonsOffset.parameters={...RibbonsOffset.parameters,docs:{...RibbonsOffset.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} labelRotation={-90} padAngle={0.02} innerRadiusOffset={0.02} />\n}",...RibbonsOffset.parameters?.docs?.source}}},AlternativeColors.parameters={...AlternativeColors.parameters,docs:{...AlternativeColors.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} labelRotation={-90} padAngle={0.02} innerRadiusOffset={0.02} colors={{\n    scheme: 'category10'\n  }} />\n}",...AlternativeColors.parameters?.docs?.source}}},PuttingLabelsInsideArcs.parameters={...PuttingLabelsInsideArcs.parameters,docs:{...PuttingLabelsInsideArcs.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} {...generateData(5)} padAngle={0.02} innerRadiusRatio={0.8} innerRadiusOffset={0.02} labelOffset={-30} labelTextColor={{\n    from: 'color',\n    modifiers: [['darker', 1.6]]\n  }} />\n}",...PuttingLabelsInsideArcs.parameters?.docs?.source}}},WithFormattedValues.parameters={...WithFormattedValues.parameters,docs:{...WithFormattedValues.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} {...generateData(5)} valueFormat={value => `${Number(value).toLocaleString('ru-RU', {\n    minimumFractionDigits: 2\n  })} ₽`} />\n}",...WithFormattedValues.parameters?.docs?.source}}},CustomTooltips.parameters={...CustomTooltips.parameters,docs:{...CustomTooltips.parameters?.docs,source:{originalSource:"{\n  render: () => <Chord {...commonProperties} {...generateData(5)} arcTooltip={ArcTooltip} ribbonTooltip={RibbonTooltip} />\n}",...CustomTooltips.parameters?.docs?.source}}};const __namedExportsOrder=["Basic","RadialLabels","CustomLabelsText","AnglePadding","RibbonsOffset","AlternativeColors","PuttingLabelsInsideArcs","WithFormattedValues","CustomTooltips"]},"../packages/generators/dist/nivo-generators.es.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$j:()=>m,Ls:()=>G,O$:()=>C,OX:()=>l,Tz:()=>L,UE:()=>J,ak:()=>I,aw:()=>D,gU:()=>P,gq:()=>k,j2:()=>f,vQ:()=>d,wQ:()=>h,x$:()=>H,z5:()=>T,zn:()=>Y});var lodash_range__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/range.js"),lodash_range__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_0__),lodash_random__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/random.js"),lodash_random__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_random__WEBPACK_IMPORTED_MODULE_1__),lodash_shuffle__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/shuffle.js"),lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_shuffle__WEBPACK_IMPORTED_MODULE_2__),d3_time__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/d3-time@1.1.0/node_modules/d3-time/src/day.js"),d3_time_format__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/d3-time-format@3.0.0/node_modules/d3-time-format/src/defaultLocale.js"),a=function(){return"hsl("+Math.round(360*Math.random())+", 70%, 50%)"},i=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"],u=["John","Raoul","Jane","Marcel","Ibrahim","Junko","Lyu","André","Maki","Véronique","Thibeau","Josiane","Raphaël","Mathéo","Margot","Hugo","Christian","Louis","Ella","Alton","Jimmy","Guillaume","Sébastien","Alfred","Bon","Solange","Kendrick","Jared","Satoko","Tomoko","Line","Delphine","Leonard","Alphonse","Lisa","Bart","Benjamin","Homer","Jack"],c=["php","make","javascript","go","erlang","elixir","lisp","haskell","python","ruby","hack","scala","java","rust","c","css","sass","stylus"],d=Object.freeze({__proto__:null,countryCodes:i,names:u,programmingLanguages:c});function s(){return s=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},s.apply(this,arguments)}var l=function(n){return n.map((function(n){return Array(n.n).fill(0).map((function(){return function(n,r){void 0===n&&(n=0),void 0===r&&(r=1);var t=2*(Math.random()-.5);return Math.atanh(t)*r+n}(n.mu,n.sd)})).map((function(r){return s({},n,{value:r})}))})).flat()},f=function(t,o,e){var a=void 0===e?{}:e,i=a.title,u=a.subtitle,c=a.rangeCount,d=void 0===c?5:c,s=a.measureCount,l=void 0===s?1:s,f=a.markerCount,h=void 0===f?1:f,m=a.float,v=void 0!==m&&m;return{id:t,title:i,subtitle:u,ranges:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(d-1).reduce((function(n){var t=o-n[0];return[lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(t,v)].concat(n)}),[o]),measures:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(l).reduce((function(n){return 0===n.length?[lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(o,v)]:[lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(n[0],v)].concat(n)}),[]),markers:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(h).map((function(){return.6*o+lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(.4*o)}))}},h=function(t){var o=void 0===t?{}:t,e=o.keys,a=void 0===e?u:e,i=o.size,c=void 0===i?7:i,d=o.minValue,s=void 0===d?0:d,l=o.maxValue,f=void 0===l?2e3:l,h=Math.min(a.length,c),m=a.slice(0,h);return{matrix:lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(h).map((function(){return lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(h).map((function(){return Math.random()<.66?lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(s,f/4):lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(s,f)}))})),keys:m}},m=function(n){var t=void 0===n?{}:n,o=t.rootSize,e=void 0===o?32:o,a=t.midSize,i=void 0===a?24:a,u=t.leafSize,c=void 0===u?12:u,d=t.minMidNodes,s=void 0===d?5:d,l=t.maxMidNodes,f=void 0===l?11:l,h=t.minLeaves,m=void 0===h?3:h,v=t.maxLeaves,p=void 0===v?9:v,M={id:"Node 0",height:2,size:e,color:"rgb(244, 117, 96)"},g=Array.from({length:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(s,f)},(function(n,r){return{id:"Node "+(r+1),height:1,size:i,color:"rgb(97, 205, 187)"}})),C=[],y=[];return g.forEach((function(n){C.push({source:"Node 0",target:n.id,distance:80}),g.forEach((function(r){Math.random()<.04&&C.push({source:n.id,target:r.id,distance:80})})),Array.from({length:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(m,p)},(function(r,t){return y.push({id:n.id+"."+t,height:0,size:c,color:"rgb(232, 193, 160)"}),C.push({source:n.id,target:n.id+"."+t,distance:50}),null}))})),g.push(M),{nodes:g=g.concat(y),links:C}},p=u.map((function(n){return{id:n}})),M=function n(r,t,o){var e=t.filter((function(n){return n.source===r})).map((function(n){var t=n.target;if(t===r)throw new Error("[sankey] a node cannot be linked on itself:\n  link: "+r+" —> "+r);if(null!=o&&o.includes(t))throw new Error("[sankey] found cyclic dependency:\n  link: "+o.join(" —> ")+" —> "+t);return t}));return e.reduce((function(e,a){return e.concat(n(a,t,o?[].concat(o,[a]):[r,a]))}),e)},g=function(n){return n.reduce((function(r,t){return r[t.source]||(r[t.source]=M(t.source,n)),r}),{})},C=function(o){var e=void 0===o?{}:o,i=e.nodeCount,u=e.maxIterations,c=void 0===u?3:u,d=p.slice(0,i).map((function(n){return Object.assign({},n,{nodeColor:a()})})),s=[];return lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(d).forEach((function(o){var e=o.id;lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(1,c)).forEach((function(){var n=g(s),o=lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(d.filter((function(n){return n.id!==e})).map((function(n){return n.id})))[0];n[o]&&n[o].includes(e)||n[e]&&n[e].includes(o)||s.push({source:e,target:o,value:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(5,200)})}))})),{nodes:d,links:s}},y=function(){return lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(0,500)},A=function(){return lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(4,20)},S=function(){return lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(3,17)},k=function(t,o){var e=o.min,a=void 0===e?60:e,i=o.max,u=void 0===i?100:i,c=o.categoryCount,d=void 0===c?0:c;return{groups:t,data:t.reduce((function(t,o,e){return[].concat(t,lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(a,u)).map((function(){return y()})).map((function(r,t){var a={id:e+"."+t,group:o,price:r,volume:A()};return d>0&&(a.categories=lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(d).map(S)),a})))}),[])}},E=function(n){return"values"in n?function(r){return n.values[r]}:function(){var r=n.min+Math.random()*(n.max-n.min);return n.round&&(r=Math.round(r)),r}},G=function(n){var r=n.serieIds,t=n.x,o=n.y,e="length"in t?t.length:t.values.length,a=E(t),i=E(o);return r.map((function(n){return{id:n,data:Array.from({length:e}).map((function(n,r){return{x:a(r),y:i(r)}}))}}))},T=a,L=function(n,r){void 0===n&&(n=!0),void 0===r&&(r=-1);var o=c;return n&&(o=lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(o)),r<1&&(r=1+Math.round(Math.random()*(c.length-1))),o.slice(0,r).map((function(n){return{label:n,value:Math.round(600*Math.random()),color:T()}}))},N=function(n){var r=[];return function(){var t;do{t=n.apply(void 0,arguments)}while(r.includes(t));return r.push(t),t}},b=function(){return lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(i)[0]},I=function(t){void 0===t&&(t=16);var o=["whisky","rhum","gin","vodka","cognac"],e=N(b),a=o.map((function(n){return{id:n,color:T(),data:[]}}));return lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(t).forEach((function(){var n=e();o.forEach((function(t){var o;null==(o=a.find((function(n){return n.id===t})))||o.data.push({color:T(),x:n,y:lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(0,60)})}))})),a},P=function(n,r){var t=(0,d3_time__WEBPACK_IMPORTED_MODULE_3__.a)(n,r),a=(0,d3_time_format__WEBPACK_IMPORTED_MODULE_4__.i$)("%Y-%m-%d");return t.map((function(n){return{value:Math.round(400*Math.random()),day:a(n)}}))},H=function(n,r,o){void 0===o&&(o=.9);var e=P(n,r),a=Math.round(e.length*(.4*o))+Math.round(Math.random()*(e.length*(.6*o)));return lodash_shuffle__WEBPACK_IMPORTED_MODULE_2___default()(e).slice(0,a)},D=function(n,t){var o=void 0===t?{}:t,e=o.size,a=void 0===e?12:e,u=o.min,c=void 0===u?0:u,d=o.max,s=void 0===d?200:d,l=o.withColors,f=void 0===l||l;return i.slice(0,a).map((function(t){var o={country:t};return n.forEach((function(n){o[n]=lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(c,s),!0===f&&(o[n+"Color"]=T())})),o}))},V=[["viz",[["stack",[["cchart"],["xAxis"],["yAxis"],["layers"]]],["ppie",[["chart",[["pie",[["outline"],["slices"],["bbox"]]],["donut"],["gauge"]]],["legends"]]]]],["colors",[["rgb"],["hsl"]]],["utils",[["randomize"],["resetClock"],["noop"],["tick"],["forceGC"],["stackTrace"],["dbg"]]],["generators",[["address"],["city"],["animal"],["movie"],["user"]]],["set",[["clone"],["intersect"],["merge"],["reverse"],["toArray"],["toObject"],["fromCSV"],["slice"],["append"],["prepend"],["shuffle"],["pick"],["plouc"]]],["text",[["trim"],["slugify"],["snakeCase"],["camelCase"],["repeat"],["padLeft"],["padRight"],["sanitize"],["ploucify"]]],["misc",[["greetings",[["hey"],["HOWDY"],["aloha"],["AHOY"]]],["other"],["path",[["pathA"],["pathB",[["pathB1"],["pathB2"],["pathB3"],["pathB4"]]],["pathC",[["pathC1"],["pathC2"],["pathC3"],["pathC4"],["pathC5"],["pathC6"],["pathC7"],["pathC8"],["pathC9"]]]]]]]],J=function r(t,o,e){var a;void 0===t&&(t="nivo"),void 0===e&&(e=V),(o=o||e.length)>e.length&&(o=e.length);var i={name:t,color:T()};return(null==(a=e)?void 0:a.length)>0?i.children=lodash_range__WEBPACK_IMPORTED_MODULE_0___default()(o).map((function(n,t){var o,a=e[t];return r(a[0],null,null!=(o=a[1])?o:[])})):i.loc=Math.round(2e5*Math.random()),i},F=["chardonay","carmenere","syrah"],U=["fruity","bitter","heavy","strong","sunny"],Y=function(n){var t=void 0===n?{}:n,o=t.randMin,e=void 0===o?20:o,a=t.randMax,i=void 0===a?120:a;return{data:U.map((function(n){var t={taste:n};return F.forEach((function(n){t[n]=lodash_random__WEBPACK_IMPORTED_MODULE_1___default()(e,i)})),t})),keys:F}}}}]);